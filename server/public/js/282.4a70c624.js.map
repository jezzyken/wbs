{"version":3,"file":"js/282.4a70c624.js","mappings":"6TAAiV,W,IAAG,OAAE,EAAK,W,OAAqB,EAAC,K,YAAS,Q,CAAS,S,YAA6C,Q,CAAC,MAAa,C,YAAC,O,MAAkB,CAAmC,oBAACA,QAAM,QAAoBC,GAAAA,EAAQ,IAAC,C,YAAoBC,Q,CAAU,EAAC,oB,MAACC,CAAmB,UAAI,GAAIC,IAA2DC,GAAAA,MAA6DA,CAAAA,EAAAA,EAAAA,EAAY,CAAU,MAAMC,CAA4CC,MAAM,SAAC,YAAQ,qBAAU,SAAG,SAAC,GAAC,eAAYC,GAAa,oCAAiBD,MAAM,CAAC,MAAM,EAAC,OAAE,qBAAIE,EAAM,OAAC,CAAmEF,EAAO,WAAUE,aAAyC,WAAcC,IAAO,sB,YAAC,qC,CAAoB,U,YACrhC,W,GACA,sBAAwB,gB,MAC1B,CAAE,iB,GAAsBC,CAAkBC,MAAG,EAAAA,gB,CAAgB,EAAE,K,MAAC,CAAwD,U,CAAID,EAAG,GAAC,cAAW,uC,MAAI,C,QAAWE,EAAAA,QAAK,MAAE,mB,QAASJ,EAAIH,QAA8C,oBAAE,eAAC,CAACK,yBAAkB,WAAG,wBAAU,I,YAAkBP,EAAG,K,IAASC,c,GAAmBE,UAAM,K,UAAwB,GAAO,GAAC,oC,iCAAwC,K,IAA8B,MAAM,MAAQ,IAAC,gC,0BAA8B,eAAC,I,MAA6F,OAAY,C,YAAU,O,MAAC,CAAgB,aAAG,KAAC,GAAC,MAAQ,W,GAA+C,CAAC,kBAAM,OAAC,EAAS,cAACA,I,CAAoB,MAAO,CAAE,OAAIE,UAAO,GAAgD,UAAWL,CAAAA,EAAG,mBAAW,+CAAM,MAAC,CAAC,UAAY,GAAQ,QAAO,eAAoBH,GAAQ,CAAqBa,MAAOC,SAAG,GAAC,yBAACZ,IAA0B,OAAY,CAA4BE,MAAY,CAAkB,UAAW,GAA+F,KAAM,KAAa,GAAK,GAACW,gBAAM,4BAACf,QAAuC,U,MAACE,CAAkB,qBAA4BI,MAAM,CAAC,MAAM,EAAC,OAAK,SAAK,YAAG,UAAIH,EAAmBG,WAAM,W,CAAgB,MAAO,GAAM,gB,YAAW,W,CAAI,KAAO,EAACE,GAAIQ,EAAAA,OAAAA,eAAAA,oBAAAA,EAAAA,EAAAA,GAAAA,CAAAA,EAAAA,OAAAA,EAAAA,EAAAA,EAAAA,CAAa,IAAC,OAACjB,MAAM,CAACkB,MAAOT,EAAIU,MAAiBlB,SAAS,SAAUc,GAAMN,EAAIW,MAAQ,CAAyB,EAAEjB,WAAW,UAAqB,GAAG,IAAI,OAAQ,CAACI,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACH,EAAG,KAAgBG,MAAM,CAAC,MAAQ,OAAS,KAAO,OAAS,SAAS,GAAI,QAAW,eAA0B,MAAC,CAACP,MAAM,kBAACkB,SAAU,SAACC,GAAmBlB,EAAAA,KAAS,aAAe,S,EAAgD,WAAC,sBAA+B,UAAG,MAAKG,CAAYG,KAAM,KAAC,GAAM,MAAe,QAAE,MAAK,CAAYA,MAAM,SAAC,KAAO,SAAkB,OAAQ,IAAe,SAAW,GAAG,MAAQE,EAAIQ,aAAejB,MAAM,CAACkB,MAAOT,EAAIU,WAAWE,OAAapB,SAAS,SAAUc,GAAMN,EAAIW,KAAKX,EAAIU,WAAY,WAAa,GAAEJ,GAAI,EAAEZ,WAAW,wBAA6B,GAAGC,EAAG,KAASG,MAAM,CAAC,KAAO,KAAI,UAAqBA,CAAAA,EAAK,IAAC,C,MAAC,CAAsB,QAAW,aAAG,MAAQE,eAAkB,YAACT,MAAM,iB,MAAoCC,C,MAA6BmB,EAAKX,WAAIU,YAA+B,SAAC,YAAChB,EAAAA,KAAU,EAAC,2BAAwB,EAAI,WAAU,6BAAsE,KAAO,IAAE,C,MAAC,CAAwB,Y,CAAK,MAAYmB,CAAW,OAAIb,MAAO,cAAwBF,SAAM,GAAC,MAAQ,iB,MAAgD,CAAuB,+BAAG,SAAC,YAAC,OAAQE,EAAIc,WAAAA,cAAAA,EAAW,EAAId,WAAO,6BAA8C,QAAW,GAAC,iCAAO,MAAC,CAACT,KAAM,GAACkB,SAAWM,EAAAA,U,GAAwCf,CAAqB,MAAC,gBAA2B,yBAAE,MAAK,CAA6BJ,MAAW,UAAaI,UAAO,SAAmB,EAAG,SAA0HF,QAAM,YAAU,GAAC,CAAG,MAAC,gB,GAA0BE,GAAIe,aAAa,IAAG,IAAK,U,MAAA,CAAC,qBAAmCjB,MAAM,CAAC,MAAO,EAAC,cAAQ,SAAO,YAAG,iBAAG,EAAE,WAAW,kBAAiB,CAACE,EAAG,IAAI,QAAiB,CAAwBF,YAAM,W,CAAC,KAAO,oBAAkB,sF,MAAC,CAAiB,S,GAAsBI,CAAaC,MAAG,SAAS,GAAEL,EAAAA,eAAAA,CAAM,I,GAA8BA,GAAAA,YAAM,O,aAAW,Q,KAAI,I,UAA8C,kB,GAAG,GAAC,aAAc,IAAK,IAAGE,GAAIH,EAAG,IAAW,C,MAAA,CAAG,MAAC,gBAACN,QAAM,Q,YAA+B,MAAAC,C,IAAmB,SAAa,GAAC,gBAACE,IAAyBM,MAAO,CAAG,EAACA,EAAAA,EAAM,EAAI,GAACgB,CAC9iH,OACGC,KAAgB,I,6PCuKpB,GACAC,KAAA,eAEAC,KAAAA,KAAA,CACAC,YAAA,CACA,CAAAC,KAAA,OAAAC,UAAA,EAAAC,KAAA,KACA,CAAAF,KAAA,WAAAC,UAAA,IAEA7B,OAAA,GACAY,QAAA,EACAU,eAAA,EACAS,UAAA,EACAjB,OAAA,EACAkB,QAAA,EACAC,UAAA,EACAV,aAAA,GACAW,cAAA,GACAC,UAAA,EACAC,aAAA,KAEAC,QAAA,CACA,CAAAT,KAAA,OAAAZ,MAAA,OAAAsB,UAAA,GACA,CAAAV,KAAA,SAAAZ,MAAA,SAAAsB,UAAA,GACA,CAAAV,KAAA,OAAAZ,MAAA,cAAAsB,UAAA,GACA,CAAAV,KAAA,cAAAZ,MAAA,cAAAsB,UAAA,GACA,CAAAV,KAAA,UAAAZ,MAAA,UAAAsB,UAAA,IAEAC,aAAA,+CACAtB,WAAA,CACAuB,KAAAC,MAAAC,OAAA,cACAC,OAAA,EACAxB,YAAA,GACAyB,YAAA,IAEAC,YAAA,CACAL,KAAAC,MAAAC,OAAA,cACAC,OAAA,EACAxB,YAAA,GACAyB,YAAA,IAGA7B,cAAA,CAAA+B,KAAAA,GAAA,0BACAC,YAAA,CACAD,KAAAA,GAAA,qBACAA,GAAAA,EAAA,sCAIAE,SAAA,KACAC,EAAAA,EAAAA,IAAA,2CAEAC,QAAAA,GACA,YAAAC,OAAAC,MAAAC,KAAAC,MAAAC,IACA,EAEAC,gBAAAA,GACA,YAAAC,SAAAC,QAAAC,IACA,MAAAC,EAAA,KAAA5D,OAAA6D,cACA,OACA,KAAA7D,QACA2D,EAAAf,YAAAiB,cAAAC,SAAAF,IACAD,EAAAxC,YAAA0C,cAAAC,SAAAF,EAAA,GAGA,GAGA,aAAAG,SACA,KAAAC,eACA,EAEAC,QAAA,KACAC,EAAAA,EAAAA,IAAA,YACA,gBACA,gBACA,gBACA,kBAGAC,UAAAA,CAAA3B,GACA,OAAAA,EACAC,IAAAD,GAAAE,OAAA,gBADA,EAEA,EAEApC,aAAAA,GACA,KAAA0B,QAAA,EACA,KAAAf,WAAA,SAAA4B,aACA,KAAAjC,QAAA,CACA,EAEAwD,WAAAA,CAAAzD,GACA,KAAAqB,QAAA,EACA,KAAAf,WAAA,IACAN,EACA6B,KAAAC,IAAA9B,EAAA6B,MAAAE,OAAA,eAEA,KAAA9B,QAAA,CACA,EAEAQ,WAAAA,GACA,KAAAR,QAAA,EACA,KAAAyD,WAAA,KACA,KAAAC,MAAAC,OACA,KAAAD,MAAAC,KAAAC,kBACA,KAAAF,MAAAC,KAAAE,SAEA,KAAAxD,WAAA,SAAA4B,YAAA,GAEA,EAEA,iBAAAxB,GACA,QAAAiD,MAAAC,KAAAG,WAAA,CACA,KAAAvC,UAAA,EACA,IACA,MAAAwC,EAAA,IACA,KAAA1D,WACAuB,KAAAC,IAAA,KAAAxB,WAAAuB,MAAAE,OAAA,eAGA,KAAAV,cACA,KAAA4C,cAAA,CACAC,GAAA,KAAA5D,WAAA6D,IACAnB,QAAAgB,IAEA,KAAApD,aAAA,uCAEA,KAAAwD,cAAAJ,GACA,KAAApD,aAAA,gCAEA,KAAAW,cAAA,UACA,KAAAd,oBACA,KAAA4C,eACA,OAAAgB,GACA,KAAAzD,aAAAyD,EAAAC,SAAA,uBACA,KAAA/C,cAAA,OACA,SACA,KAAAC,UAAA,EACA,KAAAF,UAAA,CACA,CACA,CACA,EAEAiD,aAAAA,CAAAvE,GACA,KAAAyB,aAAAzB,EACA,KAAAW,eAAA,CACA,EAEA,mBAAA6D,GACA,UACA,KAAAD,cAAA,KAAA9C,aAAA0C,KACA,KAAAvD,aAAA,+BACA,KAAAW,cAAA,gBACA,KAAA8B,eACA,OAAAgB,GACA,KAAAzD,aAAAyD,EAAAC,SAAA,yBACA,KAAA/C,cAAA,OACA,SACA,KAAAZ,eAAA,EACA,KAAAc,aAAA,KACA,KAAAH,UAAA,CACA,CACA,IC7UgQ,I,UCQ5PmD,GAAY,OACd,EACAC,EACA7D,GACA,EACA,KACA,WACA,MAIF,EAAe4D,EAAiB,O,yGCEhC,KAAeE,EAAAA,EAAAA,GACbC,EAAAA,GACAC,EAAAA,EAAAA,GAAmB,SAEnBC,OAAO,CACPhE,KAAM,SAENiE,OAAAA,GACE,MAAO,CAAEnB,KAAMoB,KAChB,EAEDC,cAAc,EAEdC,MAAO,CACLhE,SAAUiE,QACVC,eAAgBD,QAChBE,SAAUF,QACV9E,MAAO8E,SAGTpE,KAAMA,KAAA,CACJuE,OAAQ,GACRC,SAAU,GACVC,SAAU,CAAC,IAGbC,MAAO,CACLD,SAAU,CACRE,OAAAA,CAASC,GACP,MAAMC,EAASC,OAAOC,OAAOH,GAAKxC,UAAS,GAE3C6B,KAAKe,MAAM,SAAUH,EACtB,EACDI,MAAM,EACNC,WAAW,IAIf3C,QAAS,CACP4C,UAAAA,CAAYC,GACV,MAAMC,EAAWD,GACRA,EAAME,OAAO,YAAaV,IAC/BX,KAAKzE,KAAKyE,KAAKQ,SAAUW,EAAMG,KAAMX,EAArC,GACC,CAAEM,WAAW,IAGZV,EAAqB,CACzBe,KAAMH,EAAMG,KACZnG,MAAOA,OACPoG,eAAgBA,QAiBlB,OAdIvB,KAAKI,eAEPG,EAASgB,eAAiBJ,EAAME,OAAO,kBAAmBV,IACnDA,IAGDX,KAAKQ,SAASgB,eAAeL,EAAMG,QAEvCf,EAASpF,MAAQiG,EAAQD,IAAzB,IAGFZ,EAASpF,MAAQiG,EAAQD,GAGpBZ,CACR,EAEDxB,QAAAA,GACE,OAAqE,IAA9DiB,KAAKM,OAAOvC,QAAOoD,IAAUA,EAAMpC,UAAS,KAAO0C,MAC3D,EAED3C,KAAAA,GACEkB,KAAKM,OAAOoB,SAAQP,GAASA,EAAMrC,UACnCkB,KAAK2B,eACN,EACDA,aAAAA,GACM3B,KAAKI,gBAEPwB,YAAW,KACT5B,KAAKQ,SAAW,CAAC,CAAjB,GACC,EAEN,EAED3B,eAAAA,GACEmB,KAAKM,OAAOoB,SAAQP,GAASA,EAAMtC,oBACnCmB,KAAK2B,eACN,EACDE,QAAAA,CAAUV,GACRnB,KAAKM,OAAOwB,KAAKX,GACjBnB,KAAKO,SAASuB,KAAK9B,KAAKkB,WAAWC,GACpC,EACDY,UAAAA,CAAYZ,GACV,MAAMa,EAAQhC,KAAKM,OAAO2B,MAAKC,GAAKA,EAAEZ,OAASH,EAAMG,OAErD,IAAKU,EAAO,OAEZ,MAAMG,EAAUnC,KAAKO,SAAS0B,MAAKC,GAAKA,EAAEZ,OAASU,EAAMV,OACrDa,IACFA,EAAQhH,QACRgH,EAAQZ,kBAGVvB,KAAKO,SAAWP,KAAKO,SAASxC,QAAOmE,GAAKA,EAAEZ,OAASU,EAAMV,OAC3DtB,KAAKM,OAASN,KAAKM,OAAOvC,QAAOmE,GAAKA,EAAEZ,OAASU,EAAMV,OACvDtB,KAAKoC,QAAQpC,KAAKQ,SAAUwB,EAAMV,KACnC,GAGH5B,MAAAA,CAAQ2C,GACN,OAAOA,EAAE,OAAQ,CACf7H,YAAa,SACbE,MAAO,CACL4H,YAAY,KACTtC,KAAKuC,QAEVC,GAAI,CACFC,OAASC,GAAa1C,KAAKe,MAAM,SAAU2B,MAE5CC,EAAAA,EAAAA,IAAQ3C,MACZ,G,+EC7HH,MAAM4C,GAAajD,EAAAA,EAAAA,GAGjBkD,EAAAA,GAIF,MAAeD,EAAW9C,OAAO,CAC/BhE,KAAM,aAENoE,MAAO,CACL4C,SAAU3C,QACV4C,SAAU5C,QACV6C,UAAW,CACTC,KAAM,CAACC,OAAQC,QACfC,QAAS,GACTC,UAAYlG,IAAYmG,MAAMC,WAAWpG,KAE3CqG,KAAM,CACJP,KAAM,CAACC,OAAQC,QACfC,QAAS,EACTC,UAAYlG,IAAYmG,MAAMG,SAAStG,EAAG,OAI9CE,SAAU,CACRqG,OAAAA,GACE,MAAO,CACL,cAAc,EACd,wBAAyB1D,KAAK8C,SAC9B,wBAAyB9C,KAAK2D,kBAC3Bd,EAAAA,EAAWe,QAAQvG,SAASqG,QAAQG,KAAK7D,MAE/C,EACD2D,cAAAA,GACE,OAAO3D,KAAK+C,UAAY/C,KAAK8C,QAC9B,GAGHrC,MAAO,CACLqC,QAAAA,CAAUnC,GACRX,KAAKtB,WAAU,K,MACbiC,EACIX,KAAK8D,uBACW,QAAhBC,EAAA/D,KAAKrB,MAAMwC,aAAK,IAAA4C,GAAAA,EAAEC,MAAMC,eAAe,SAF3C,GAIH,EACDC,SAAAA,GACElE,KAAK8C,UAAY9C,KAAKtB,UAAUsB,KAAK8D,qBACtC,EACDd,SAAAA,GACEhD,KAAK8C,UAAY9C,KAAKtB,UAAUsB,KAAK8D,qBACtC,GAGHK,OAAAA,GACEvC,YAAW,KACT5B,KAAK8C,UAAY9C,KAAK8D,sBAAtB,GACC,EACJ,EAEDxF,QAAS,CACPwF,oBAAAA,GACE,MAAM3C,EAAQnB,KAAKrB,MAAMwC,MACzB,IAAKA,EAAO,OAEZA,EAAM6C,MAAMI,OAAS,IACrB,MAAMA,EAASjD,EAAMkD,aACfC,EAAYb,SAASzD,KAAKwD,KAAM,IAAMD,WAAWvD,KAAKgD,WAG5D7B,EAAM6C,MAAMI,OAASG,KAAKC,IAAIF,EAAWF,GAAU,IACpD,EACDK,QAAAA,GACE,MAAMtD,EAAQ0B,EAAAA,EAAWe,QAAQtF,QAAQmG,SAASZ,KAAK7D,MAMvD,OAJAmB,EAAMuD,IAAM,kBACLvD,EAAMpF,KAAMrB,MAAOuI,KAC1B9B,EAAMpF,KAAMrB,MAAO8I,KAAOxD,KAAKwD,KAExBrC,CACR,EACDwD,OAAAA,CAASjC,GACPG,EAAAA,EAAWe,QAAQtF,QAAQqG,QAAQd,KAAK7D,KAAM0C,GAC9C1C,KAAK8C,UAAY9C,KAAK8D,sBACvB,EACDc,SAAAA,CAAWlC,GAIL1C,KAAK6E,WAA2B,KAAdnC,EAAEoC,SACtBpC,EAAEqC,kBAGJ/E,KAAKe,MAAM,UAAW2B,EACvB,I","sources":["webpack://client/./src/views/admin/Expenses.vue","webpack://client/src/views/admin/Expenses.vue","webpack://client/./src/views/admin/Expenses.vue?37b5","webpack://client/./src/views/admin/Expenses.vue?417f","webpack://client/../../../src/components/VForm/VForm.ts","webpack://client/../../../src/components/VTextarea/VTextarea.ts"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{staticClass:\"px-6\"},[_c('div',{staticClass:\"mb-6\"},[_c('v-breadcrumbs',{staticClass:\"pa-0\",attrs:{\"items\":_vm.breadcrumbs,\"divider\":\"/\"}})],1),_c('v-card',{staticClass:\"mb-6\"},[_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"Search\",\"placeholder\":\"Description / Type\",\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"prepend-inner-icon\":\"mdi-magnify\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-spacer')],1)],1)],1),_c('v-card',[_c('v-card-title',{staticClass:\"d-flex justify-space-between py-4\"},[_c('span',{staticClass:\"text-h6\"},[_vm._v(\"Expenses List\")]),_c('div',[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.openAddDialog}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus\")]),_vm._v(\" Add Expense \")],1)],1)]),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.filteredExpenses,\"loading\":_vm.loading,\"items-per-page\":10,\"footer-props\":{\n        'items-per-page-options': [10, 20, 50],\n        'show-first-last-page': true,\n      }},scopedSlots:_vm._u([{key:\"item.amount\",fn:function({ item }){return [_vm._v(\" â‚±\"+_vm._s(item.amount.toFixed(2))+\" \")]}},{key:\"item.date\",fn:function({ item }){return [_vm._v(\" \"+_vm._s(_vm.formatDate(item.date))+\" \")]}},{key:\"item.actions\",fn:function({ item }){return [_c('v-btn',{staticClass:\"mr-2\",attrs:{\"x-small\":\"\",\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.editExpense(item)}}},[_c('v-icon',{attrs:{\"x-small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-pencil\")]),_vm._v(\" Edit \")],1),(_vm.userRole === 'admin')?_c('v-btn',{attrs:{\"x-small\":\"\",\"text\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.deleteExpense(item)}}},[_c('v-icon',{attrs:{\"x-small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-delete\")]),_vm._v(\" Delete \")],1):_vm._e()]}}])})],1),_c('v-dialog',{attrs:{\"max-width\":\"600px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.isEdit ? \"Edit Expense\" : \"Add Expense\"))])]),_c('v-card-text',[(_vm.dialog)?_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Date\",\"type\":\"date\",\"required\":\"\",\"rules\":_vm.requiredRules},model:{value:(_vm.editedItem.date),callback:function ($$v) {_vm.$set(_vm.editedItem, \"date\", $$v)},expression:\"editedItem.date\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Amount\",\"type\":\"number\",\"prefix\":\"â‚±\",\"required\":\"\",\"rules\":_vm.amountRules},model:{value:(_vm.editedItem.amount),callback:function ($$v) {_vm.$set(_vm.editedItem, \"amount\", _vm._n($$v))},expression:\"editedItem.amount\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('v-select',{attrs:{\"items\":_vm.expenseTypes,\"label\":\"Expense Type\",\"required\":\"\",\"rules\":_vm.requiredRules},model:{value:(_vm.editedItem.expenseType),callback:function ($$v) {_vm.$set(_vm.editedItem, \"expenseType\", $$v)},expression:\"editedItem.expenseType\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-textarea',{attrs:{\"label\":\"Description\",\"required\":\"\",\"rules\":_vm.requiredRules},model:{value:(_vm.editedItem.description),callback:function ($$v) {_vm.$set(_vm.editedItem, \"description\", $$v)},expression:\"editedItem.description\"}})],1)],1)],1):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"disabled\":_vm.isSaving},on:{\"click\":_vm.closeDialog}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":!_vm.valid || _vm.isSaving,\"loading\":_vm.isSaving},on:{\"click\":_vm.saveExpense}},[_vm._v(\" Save \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"400px\"},model:{value:(_vm.confirmDialog),callback:function ($$v) {_vm.confirmDialog=$$v},expression:\"confirmDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"Confirm Delete\")]),_c('v-card-text',[_vm._v(\"Are you sure you want to delete this expense?\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.confirmDialog = false}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":_vm.confirmDelete}},[_vm._v(\"Delete\")])],1)],1)],1),_c('v-snackbar',{attrs:{\"color\":_vm.snackbarColor,\"timeout\":\"3000\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\"Close\")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarText)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container class=\"px-6\">\n    <!-- Page Header -->\n    <div class=\"mb-6\">\n      <v-breadcrumbs\n        :items=\"breadcrumbs\"\n        divider=\"/\"\n        class=\"pa-0\"\n      ></v-breadcrumbs>\n    </div>\n\n    <!-- Search Section -->\n    <v-card class=\"mb-6\">\n      <v-card-text>\n        <v-row>\n          <v-col cols=\"12\" sm=\"6\" md=\"4\">\n            <v-text-field\n              v-model=\"search\"\n              label=\"Search\"\n              placeholder=\"Description / Type\"\n              dense\n              outlined\n              hide-details\n              prepend-inner-icon=\"mdi-magnify\"\n            ></v-text-field>\n          </v-col>\n          <v-spacer></v-spacer>\n        </v-row>\n      </v-card-text>\n    </v-card>\n\n    <!-- Expenses List -->\n    <v-card>\n      <v-card-title class=\"d-flex justify-space-between py-4\">\n        <span class=\"text-h6\">Expenses List</span>\n        <div>\n          <v-btn color=\"primary\" @click=\"openAddDialog\">\n            <v-icon left>mdi-plus</v-icon>\n            Add Expense\n          </v-btn>\n        </div>\n      </v-card-title>\n\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"filteredExpenses\"\n        :loading=\"loading\"\n        :items-per-page=\"10\"\n        :footer-props=\"{\n          'items-per-page-options': [10, 20, 50],\n          'show-first-last-page': true,\n        }\"\n      >\n        <template v-slot:item.amount=\"{ item }\">\n          â‚±{{ item.amount.toFixed(2) }}\n        </template>\n\n        <template v-slot:item.date=\"{ item }\">\n          {{ formatDate(item.date) }}\n        </template>\n\n        <template v-slot:item.actions=\"{ item }\">\n          <v-btn\n            x-small\n            text\n            color=\"primary\"\n            class=\"mr-2\"\n            @click=\"editExpense(item)\"\n          >\n            <v-icon x-small left>mdi-pencil</v-icon>\n            Edit\n          </v-btn>\n          <v-btn v-if=\"userRole === 'admin'\" x-small text color=\"error\" @click=\"deleteExpense(item)\">\n            <v-icon x-small left>mdi-delete</v-icon>\n            Delete\n          </v-btn>\n        </template>\n      </v-data-table>\n    </v-card>\n\n    <!-- Add/Edit Expense Dialog -->\n    <v-dialog v-model=\"dialog\" max-width=\"600px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"text-h5\">{{\n            isEdit ? \"Edit Expense\" : \"Add Expense\"\n          }}</span>\n        </v-card-title>\n        <v-card-text>\n          <v-form v-if=\"dialog\" ref=\"form\" v-model=\"valid\">\n            <v-row>\n              <v-col cols=\"12\" sm=\"6\">\n                <v-text-field\n                  v-model=\"editedItem.date\"\n                  label=\"Date\"\n                  type=\"date\"\n                  required\n                  :rules=\"requiredRules\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\" sm=\"6\">\n                <v-text-field\n                  v-model.number=\"editedItem.amount\"\n                  label=\"Amount\"\n                  type=\"number\"\n                  prefix=\"â‚±\"\n                  required\n                  :rules=\"amountRules\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\" sm=\"12\">\n                <v-select\n                  v-model=\"editedItem.expenseType\"\n                  :items=\"expenseTypes\"\n                  label=\"Expense Type\"\n                  required\n                  :rules=\"requiredRules\"\n                ></v-select>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-textarea\n                  v-model=\"editedItem.description\"\n                  label=\"Description\"\n                  required\n                  :rules=\"requiredRules\"\n                ></v-textarea>\n              </v-col>\n            </v-row>\n          </v-form>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn text @click=\"closeDialog\" :disabled=\"isSaving\">Cancel</v-btn>\n          <v-btn\n            color=\"primary\"\n            :disabled=\"!valid || isSaving\"\n            :loading=\"isSaving\"\n            @click=\"saveExpense\"\n          >\n            Save\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <!-- Confirmation Dialog -->\n    <v-dialog v-model=\"confirmDialog\" max-width=\"400px\">\n      <v-card>\n        <v-card-title class=\"text-h5\">Confirm Delete</v-card-title>\n        <v-card-text>Are you sure you want to delete this expense?</v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn text @click=\"confirmDialog = false\">Cancel</v-btn>\n          <v-btn color=\"error\" text @click=\"confirmDelete\">Delete</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <!-- Snackbar -->\n    <v-snackbar v-model=\"snackbar\" :color=\"snackbarColor\" timeout=\"3000\">\n      {{ snackbarText }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn text v-bind=\"attrs\" @click=\"snackbar = false\">Close</v-btn>\n      </template>\n    </v-snackbar>\n  </v-container>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\nimport moment from \"moment\";\n\nexport default {\n  name: \"ExpensesPage\",\n\n  data: () => ({\n    breadcrumbs: [\n      { text: \"Home\", disabled: false, href: \"/\" },\n      { text: \"Expenses\", disabled: true },\n    ],\n    search: \"\",\n    dialog: false,\n    confirmDialog: false,\n    dateMenu: false,\n    valid: false,\n    isEdit: false,\n    snackbar: false,\n    snackbarText: \"\",\n    snackbarColor: \"\",\n    isSaving: false,\n    itemToDelete: null,\n\n    headers: [\n      { text: \"Date\", value: \"date\", sortable: true },\n      { text: \"Amount\", value: \"amount\", sortable: true },\n      { text: \"Type\", value: \"expenseType\", sortable: true },\n      { text: \"Description\", value: \"description\", sortable: true },\n      { text: \"Actions\", value: \"actions\", sortable: false },\n    ],\n    expenseTypes: [\"Utilities\", \"Supplies\", \"Maintenance\", \"Other\"],\n    editedItem: {\n      date: moment().format(\"YYYY-MM-DD\"),\n      amount: 0,\n      expenseType: \"\",\n      description: \"\",\n    },\n    defaultItem: {\n      date: moment().format(\"YYYY-MM-DD\"),\n      amount: 0,\n      expenseType: \"\",\n      description: \"\",\n    },\n\n    requiredRules: [(v) => !!v || \"This field is required\"],\n    amountRules: [\n      (v) => !!v || \"Amount is required\",\n      (v) => v > 0 || \"Amount must be greater than 0\",\n    ],\n  }),\n\n  computed: {\n    ...mapState(\"expenses\", [\"expenses\", \"loading\", \"error\"]),\n\n    userRole() {\n      return this.$store.state.auth.user?.role;\n    },\n\n    filteredExpenses() {\n      return this.expenses.filter((expense) => {\n        const searchLower = this.search.toLowerCase();\n        return (\n          !this.search ||\n          expense.description.toLowerCase().includes(searchLower) ||\n          expense.expenseType.toLowerCase().includes(searchLower)\n        );\n      });\n    },\n  },\n\n  async created() {\n    await this.fetchExpenses();\n  },\n\n  methods: {\n    ...mapActions(\"expenses\", [\n      \"fetchExpenses\",\n      \"createExpense\",\n      \"updateExpense\",\n      \"deleteExpense\",\n    ]),\n\n    formatDate(date) {\n      if (!date) return \"\";\n      return moment(date).format(\"MMM DD, YYYY\");\n    },\n\n    openAddDialog() {\n      this.isEdit = false;\n      this.editedItem = { ...this.defaultItem };\n      this.dialog = true;\n    },\n\n    editExpense(item) {\n      this.isEdit = true;\n      this.editedItem = {\n        ...item,\n        date: moment(item.date).format(\"YYYY-MM-DD\"),\n      };\n      this.dialog = true;\n    },\n\n    closeDialog() {\n      this.dialog = false;\n      this.$nextTick(() => {\n        if (this.$refs.form) {\n          this.$refs.form.resetValidation();\n          this.$refs.form.reset();\n        }\n        this.editedItem = { ...this.defaultItem };\n      });\n    },\n\n    async saveExpense() {\n      if (this.$refs.form.validate()) {\n        this.isSaving = true;\n        try {\n          const expenseData = {\n            ...this.editedItem,\n            date: moment(this.editedItem.date).format(\"YYYY-MM-DD\"),\n          };\n\n          if (this.isEdit) {\n            await this.updateExpense({\n              id: this.editedItem._id,\n              expense: expenseData,\n            });\n            this.snackbarText = \"Expense updated successfully\";\n          } else {\n            await this.createExpense(expenseData);\n            this.snackbarText = \"Expense created successfully\";\n          }\n          this.snackbarColor = \"success\";\n          this.closeDialog();\n          await this.fetchExpenses();\n        } catch (error) {\n          this.snackbarText = error.message || \"Error saving expense\";\n          this.snackbarColor = \"error\";\n        } finally {\n          this.isSaving = false;\n          this.snackbar = true;\n        }\n      }\n    },\n\n    deleteExpense(item) {\n      this.itemToDelete = item;\n      this.confirmDialog = true;\n    },\n\n    async confirmDelete() {\n      try {\n        await this.deleteExpense(this.itemToDelete._id);\n        this.snackbarText = \"Expense deleted successfully\";\n        this.snackbarColor = \"success\";\n        await this.fetchExpenses();\n      } catch (error) {\n        this.snackbarText = error.message || \"Error deleting expense\";\n        this.snackbarColor = \"error\";\n      } finally {\n        this.confirmDialog = false;\n        this.itemToDelete = null;\n        this.snackbar = true;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.v-data-table ::v-deep th {\n  font-weight: 600 !important;\n}\n\n.v-data-table ::v-deep td {\n  font-size: 14px !important;\n}\n</style>\n ","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Expenses.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Expenses.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Expenses.vue?vue&type=template&id=568960ca&scoped=true\"\nimport script from \"./Expenses.vue?vue&type=script&lang=js\"\nexport * from \"./Expenses.vue?vue&type=script&lang=js\"\nimport style0 from \"./Expenses.vue?vue&type=style&index=0&id=568960ca&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"568960ca\",\n  null\n  \n)\n\nexport default component.exports","// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\nimport { getSlot } from '../../util/helpers'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, getSlot(this))\n  },\n})\n","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    autoGrow (val: boolean) {\n      this.$nextTick(() => {\n        val\n          ? this.calculateInputHeight()\n          : this.$refs.input?.style.removeProperty('height')\n      })\n    },\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n"],"names":["model","callback","search","expression","_c","staticClass","_v","attrs","openAddDialog","_vm","loading","key","fn","item","dialog","$$v","valid","requiredRules","value","editedItem","$set","expenseType","closeDialog","saveExpense","confirmDialog","snackbarText","staticRenderFns","name","data","breadcrumbs","text","disabled","href","dateMenu","isEdit","snackbar","snackbarColor","isSaving","itemToDelete","headers","sortable","expenseTypes","date","moment","format","amount","description","defaultItem","v","amountRules","computed","mapState","userRole","$store","state","auth","user","role","filteredExpenses","expenses","filter","expense","searchLower","toLowerCase","includes","created","fetchExpenses","methods","mapActions","formatDate","editExpense","$nextTick","$refs","form","resetValidation","reset","validate","expenseData","updateExpense","id","_id","createExpense","error","message","deleteExpense","confirmDelete","component","render","mixins","BindsAttrs","RegistrableProvide","extend","provide","this","inheritAttrs","props","Boolean","lazyValidation","readonly","inputs","watchers","errorBag","watch","handler","val","errors","Object","values","$emit","deep","immediate","watchInput","input","watcher","$watch","_uid","shouldValidate","hasOwnProperty","length","forEach","resetErrorBag","setTimeout","register","push","unregister","found","find","i","unwatch","$delete","h","novalidate","attrs$","on","submit","e","getSlot","baseMixins","VTextField","autoGrow","noResize","rowHeight","type","Number","String","default","validator","isNaN","parseFloat","rows","parseInt","classes","noResizeHandle","options","call","calculateInputHeight","_a","style","removeProperty","lazyValue","mounted","height","scrollHeight","minHeight","Math","max","genInput","tag","onInput","onKeyDown","isFocused","keyCode","stopPropagation"],"sourceRoot":""}