{"version":3,"file":"js/437.4868d890.js","mappings":"mQAMA,EAAeA,EAAAA,GAAIC,OAAO,CACxBC,KAAM,aAENC,WAAY,CAAEC,OAAMA,EAAAA,GAEpBC,MAAO,CACLD,OAAQ,CACNE,KAAM,CAACC,QAASC,QAChBC,SAAS,IAIbC,QAAS,CACPC,SAAAA,CAAWC,EAAkB,CAAC,GAC5B,OAAKC,KAAKT,QAEVQ,EAAKE,YAAc,sCAEnBF,EAAKT,WAAaS,EAAKT,YAAc,GACrCS,EAAKT,WAAWY,KAAK,CACnBb,KAAM,SACNc,MAAO,CAAEC,QAAQ,KAGZJ,KAAKK,eAAe,MAAON,IAVT,IAW1B,K,oBCrBC,SAAUO,EAASC,GACvBA,EAAEC,gBACH,CAGD,OAAeC,EAAAA,EAAAA,GACbC,EAAAA,EACAC,EACAC,EAAAA,GACAxB,OAAO,CACPC,KAAM,aAENwB,MAAO,CACLC,KAAM,aACNC,MAAO,UAGTvB,MAAO,CACLwB,GAAIC,OACJC,WAAY,KACZC,WAAY,KACZC,UAAW,KACXC,SAAU,CACR5B,KAAMC,QACNE,QAAS,MAEX0B,MAAOL,QAGTlB,IAAAA,GACE,MAAO,CACLwB,SAAUvB,KAAKkB,WACfM,UAAWxB,KAAKkB,WAEnB,EAEDO,SAAU,CACRC,aAAAA,GACE,GAAK1B,KAAK2B,SACV,OAAI3B,KAAK4B,MAAc5B,KAAK4B,MACxB5B,KAAK6B,SAAW7B,KAAK8B,UAAkB,QACpC,SACR,EACDC,UAAAA,GACE,OAAyB,IAAlB/B,KAAKqB,UAAwC,OAAlBrB,KAAKqB,UAAqBW,MAAMC,QAAQjC,KAAKkC,cAChF,EACDP,QAAAA,GACE,MAAMxB,EAAQH,KAAKG,MACbgC,EAAQnC,KAAKkC,cAEnB,OAAIlC,KAAK+B,aACFC,MAAMC,QAAQE,IAEZA,EAAMC,MAAKC,GAAQrC,KAAKsC,gBAAgBD,EAAMlC,UAGhCoC,IAAnBvC,KAAKoB,gBAA+CmB,IAApBvC,KAAKmB,WAChChB,EACHH,KAAKsC,gBAAgBnC,EAAOgC,GAC5BzC,QAAQyC,GAGPnC,KAAKsC,gBAAgBH,EAAOnC,KAAKoB,UACzC,EACDoB,OAAAA,GACE,OAAOxC,KAAK2B,QACb,EACDc,WAAAA,GACE,OAAQzC,KAAK0C,YAAe1C,KAAK2C,gBAE7B3C,KAAK2C,qBADLJ,CAEL,GAGHK,MAAO,CACL1B,UAAAA,CAAY2B,GACV7C,KAAKwB,UAAYqB,EACjB7C,KAAKuB,SAAWsB,CACjB,GAGHhD,QAAS,CACPiD,QAAAA,GACE,MAAMxB,EAAQZ,EAAAA,EAAOqC,QAAQlD,QAAQiD,SAASE,KAAKhD,MAEnD,OAAKsB,GAELA,EAAOvB,KAAMkD,GAAK,CAEhBC,MAAO5C,GAGFgB,GAPYA,CAQpB,EACD6B,QAAAA,CAAU1D,EAAc2D,GACtB,OAAOpD,KAAKK,eAAe,QAAS,CAClC+C,MAAOzD,OAAO0D,OAAO,CACnB,eAAgBrD,KAAK2B,SAAS2B,WAC9BC,SAAUvD,KAAK0C,WACf1B,GAAIhB,KAAKwD,WACTC,KAAMhE,EACNA,QACC2D,GACHM,SAAU,CACRvD,MAAOH,KAAKG,MACZwD,QAAS3D,KAAK2B,UAEhBsB,GAAI,CACFW,KAAM5D,KAAK6D,OACXC,OAAQ9D,KAAK+D,SACbC,MAAOhE,KAAKiE,QACZC,QAASlE,KAAKmE,UACdjB,MAAO5C,GAET8D,IAAK,SAER,EACDC,OAAAA,CAAS9D,GACPP,KAAK+D,WACL/D,KAAKsE,MAAM,QAAS/D,EACrB,EACDwD,QAAAA,GACE,IAAK/D,KAAKuE,cAAe,OAEzB,MAAMpE,EAAQH,KAAKG,MACnB,IAAIgC,EAAQnC,KAAKkC,cAEjB,GAAIlC,KAAK+B,WAAY,CACdC,MAAMC,QAAQE,KACjBA,EAAQ,IAGV,MAAMqC,EAASrC,EAAMqC,OAErBrC,EAAQA,EAAMsC,QAAQpC,IAAerC,KAAKsC,gBAAgBD,EAAMlC,KAE5DgC,EAAMqC,SAAWA,GACnBrC,EAAMjC,KAAKC,EAEd,MACCgC,OAD4BI,IAAnBvC,KAAKoB,gBAA+CmB,IAApBvC,KAAKmB,WACtCnB,KAAKsC,gBAAgBH,EAAOnC,KAAKoB,WAAapB,KAAKmB,WAAanB,KAAKoB,UACpEjB,EACDH,KAAKsC,gBAAgBH,EAAOhC,GAAS,KAAOA,GAE3CgC,EAGXnC,KAAK0E,UAAS,EAAMvC,GACpBnC,KAAKkC,cAAgBC,EACrBnC,KAAKuB,SAAWY,CACjB,EACD8B,OAAAA,CAAS1D,GACPP,KAAK2E,WAAY,EACjB3E,KAAKsE,MAAM,QAAS/D,EACrB,EACDsD,MAAAA,CAAQtD,GACNP,KAAK2E,WAAY,EACjB3E,KAAKsE,MAAM,OAAQ/D,EACpB,EAED4D,SAAAA,CAAW5D,GAAY,KC9J3B,EAAeqE,EAAWxF,OAAO,CAC/BC,KAAM,aAENG,MAAO,CACLqF,cAAenF,QACfoF,kBAAmB,CACjBrF,KAAMwB,OACNrB,QAAS,0BAEXmF,QAAS,CACPtF,KAAMwB,OACNrB,QAAS,gBAEXoF,OAAQ,CACNvF,KAAMwB,OACNrB,QAAS,gBAIbG,IAAAA,GACE,MAAO,CACLkF,mBAAoBjF,KAAK6E,cAE5B,EAEDpD,SAAU,CACRyD,OAAAA,GACE,MAAO,IACFxE,EAAAA,EAAOqC,QAAQtB,SAASyD,QAAQlC,KAAKhD,MACxC,+BAA+B,EAC/B,qBAAqB,EACrB,yBAA0BA,KAAKiF,mBAElC,EACDE,YAAAA,GACE,OAAInF,KAAKiF,mBACAjF,KAAK8E,kBACH9E,KAAK2B,SACP3B,KAAKgF,OAELhF,KAAK+E,OAEf,EAIDpC,eAAAA,GACE,IAAI3C,KAAK0C,YAAe1C,KAAKiF,mBAC7B,OAAIjF,KAAKoF,UAAYpF,KAAKqF,eAAuB,QAC7CrF,KAAKsF,WAAmB,UACN,OAAlBtF,KAAKuB,SAA0BvB,KAAK0B,mBAAxC,CAED,GAGHkB,MAAO,CACLiC,aAAAA,CAAehC,GAEb7C,KAAKuF,WAAU,IAAOvF,KAAKiF,mBAAqBpC,GACjD,EACDoC,kBAAAA,CAAoBpC,GAClB7C,KAAKsE,MAAM,uBAAwBzB,EACpC,EACDlB,QAAAA,GACO3B,KAAK6E,gBACV7E,KAAKiF,oBAAqB,EAC3B,GAGHpF,QAAS,CACP2F,WAAAA,GACE,MAAM,MAAEC,KAAUC,GAAkB1F,KAAK2F,OACzC,OAAO3F,KAAKK,eAAe,MAAO,CAChCJ,YAAa,sCACZ,CACDD,KAAKK,eAAeuF,EAAAA,EAAO5F,KAAK6F,aAAa7F,KAAK2C,gBAAiB,CACjEnD,MAAO,CACLsG,MAAO9F,KAAK8F,MACZC,KAAM/F,KAAK+F,KACXC,MAAOhG,KAAKgG,SAEZhG,KAAKmF,cACTnF,KAAKmD,SAAS,WAAY,IACrBuC,EACH,eAAgB1F,KAAKiF,mBACjB,QACAjF,KAAK2B,SAAS2B,aAEpBtD,KAAKF,UAAUE,KAAK6F,aAAa7F,KAAKyC,eAEzC,EACDwD,cAAAA,GACE,MAAO,CACLjG,KAAKwF,cACLxF,KAAK8C,WAER,K,gHC5Gub,W,IAAM,EAAK,KAAG,aAAC,OAAM,MAAa,CAAgB7C,YAAY,OAAiB,MAAMiG,CAAyDjG,MAAW,KAA0CmD,CAAAA,EAAK,IAAC,C,YAAQ,O,MAAS,CAAK,KAAK,KAAM,CAAC+C,EAAG,KAAM,UAAClG,YAAY,gCAAsB,CAACmG,EAAIF,GAAG,qCAA0B,SAACjG,YAAY,0CAA6B,CAACmG,EAAIF,GAAG,oBAAeG,GAAQ,EAACC,EAAAA,EAAW,GAAK,IAAIH,CAAE,EAAC,IAAO,CAAE/C,MAAM,CAAC,KAAO,KAAK,GAAK,MAAY,gBAAE,YAAW,kBAACnD,CAAAA,EAAAA,GAAAA,wBAAY,eAAqB,YAAS,4BAA6BA,CAAAA,EAAAA,EAAAA,EAAW,CAA6B,MAAMiG,CAAsD9C,KAAM,KAAC,GAAM,IAAM,GAAK,MAAY,UAAE,YAAW,sBAACnD,CAAAA,EAAAA,GAAAA,iBAAY,SAAqB,YAAS,6BAAgCmD,CAAAA,EAAK,GAAC,+C,MAAC,CAAa,KAAO,KAAW,OAAU,SAAwDA,CAAAA,EAAK,MAAC,C,YAAQ,sB,CAAK,EAAI,GAAC,mBAAG,S,YAAM,6BAAG,gDAAE,MAAK,CAAOnD,KAAAA,KAAmCmG,GAAM,IAAuBnG,GAAAA,MAAwGA,CAAAA,EAAAA,MAAW,CAAQ,YAAW,sBAACA,CAAAA,EAAAA,GAAAA,mBAAY,OAAwD,MAAMiG,CAA2C9C,UAAM,GAAC,gBAAa,WAA+D,MAAS,EAAC,cAAc,oB,MAAKmD,CAAM,KAAK,KAAuCnD,GAAK,I,GAAE,M,CAAyBvC,EAAAA,MAAM,C,YAAQ2F,sB,GAAcC,GAAAA,YAAS,EAAUC,MAAK,C,YAAKC,6B,GAA2B,qD,YAACC,Q,CAAyB,SAAC,YAAU,yD,CAAqG3G,EAAAA,GAAAA,2BAAY,OAAc,MAAM,CAAsH,SAAU,KAA+B,CAACkG,EAAG,IAAM,oCAAClG,OAAAA,EAAAA,EAAAA,EAAY,CAA0DmG,IAAIF,GAA6C9C,CAAAA,EAAM,UAAC,MAAO,CAAmB,SAAY,YAAiB,OAAc,MAAQ,EAAE,SAAC,kBAAqByD,GAAoB,EAAM,KAAG,eAAC,EAAc,8BAAQ1G,GAAOiG,EAAG,KAAgB,qCAACK,YAAS,gB,CAAgBL,EAAIU,GAAAA,IAAAA,EAAAA,GAAc,EAAI,wE,IAAA,IAAC,gB,YAAW,QAAiB,UAAG,YAAY,yDAAE7G,CAAAA,EAAAA,GAAAA,uBAAY,EAAqB,KAACmD,MAAM,CAAC,wBAAa,WAAI+C,KAAG,SAA6YlG,SAAY,GAAmCmG,MAAO,GAAuFhD,iBAAM,sBAAC,IAAM,IAAM,KAAK,QAAK,MAAK,CAA6BnD,MAAAA,EAAY,eAAwBmG,SAAO,YAA2CnG,EAAAA,eAAY,CAASmG,EAA+C,WAAU,oBAAyB,EAAED,EAAAA,EAAG,CAA0J,YAAI,sBAAalG,MAAAA,CAAqBkG,SAAG,KAA+C,CAACA,EAAG,YAA0B,2BAA4B,MAAyB,CAACA,EAAG,cAAoB,oBAAmB,GAAI,EAACY,EAAAA,EAAAA,CAAc,EAACC,EAAAA,GAAkB,CAACb,EAAG,yBAAQ,uGAAClG,YAAY,kCAAOmD,CAAAA,EAAK,GAAC,8E,MAAC,CAAkB,KAAO,KAAI,SAAkF,gBAACH,YAAG,uB,CAAC,KAAO,yBAAKgE,EAAAA,EAAAA,GAAAA,CAAc,oBAAG,CAACb,EAAIF,GAAG,EAAG,cAAYgB,SAAU,KAAwDjH,OAAAA,EAAAA,EAAAA,EAAkB,CAACmD,IAAM,GAAC,QAAU,kF,IAAC,MAAS,C,YAAW,SAAa,OAACH,YAAG,oB,CAAC,OAAYkE,CAAAA,EAAAA,EAAAA,GAAAA,CAAAA,EAAAA,GAAAA,uBAAAA,GAAAA,EAAAA,EAAAA,EAAAA,CAAAA,EAAAA,GAAAA,IAAAA,EAAAA,GAAAA,EAAAA,eAAAA,QAAAA,QAAAA,GAAAA,EAAAA,EAAAA,EAAAA,CAAM,mBAAE,MAAMjB,CAAsD9C,MAAM,UAAC,MAAQgD,GAAkB,UAAU,0CAAO,mB,GAAsBgB,CAAaC,MAAG,EAAAA,iB,CAAiB,EAAE,uE,YAASlB,O,MAAmB/C,C,MAAO,G,KAAU,G,SAAI,W,UAA8C,W,GAAG,GAAC,eAAc,IAAM,IAAK,IAAI,OAAU,EAAC,K,MAAA,CAAG,MAAC,gBAACvC,QAAM,Q,YAA+B,MAAA4F,C,IAAmB,SAAa,GAAC,gBAACG,IAAyBR,MAAO,CAAG,EAACA,EAAAA,EAAM,EAAI,GAACkB,CACjpJ,OACGC,KAAgB,I,yPCgMpB,GACAlI,KAAA,cAEAU,KAAAA,KAAA,CACAsG,SAAA,CACAC,UAAA,GACAjH,KAAA,GACAI,KAAA,GACA+H,OAAA,IAEAC,KAAA,CACA,CACApI,KAAA,eACAqI,OAAA,EACAC,UAAA,EACApE,UAAA,EACAqE,YAAA,6BACAC,YAAA,gBAEA,CACAxI,KAAA,iBACAqI,OAAA,EACAC,UAAA,EACApE,UAAA,EACAqE,YAAA,iBACAC,YAAA,gBAEA,CACAxI,KAAA,iBACAqI,OAAA,IACAC,UAAA,EACApE,UAAA,EACAqE,YAAA,4CACAC,YAAA,kBAEA,CACAxI,KAAA,mBACAqI,OAAA,GACAC,UAAA,EACApE,UAAA,EACAqE,YAAA,iCACAC,YAAA,qBAGAf,eAAA,EACAI,SAAA,EACAY,UAAA,EACAR,aAAA,GACAS,cAAA,KAGAtG,SAAA,KACAuG,EAAAA,EAAAA,IAAA,qCACAA,EAAAA,EAAAA,IAAA,4BAEAC,aAAAA,GACA,iBAAAC,OAAAC,MAAAC,YACA,YAAAX,KAAAhD,QAAA+B,GAAA,mBAAAA,EAAAnH,OAGA,IAAAgJ,EAAA,KAAAZ,KAAAhD,QAAA+B,GAAA,iBAAAA,EAAAnH,OAEA,MAAAiJ,EAAA,KAAAb,KAAAc,MACAC,GAAA,mBAAAA,EAAAnJ,OAMA,GAJAiJ,GAAAA,EAAAZ,OAAA,GACAW,EAAAnI,KAAAoI,GAGA,sBAAAjC,SAAAmB,OAAAiB,cAAA,CACA,MAAAC,EAAA,KAAAjB,KAAAc,MACAC,GAAA,qBAAAA,EAAAnJ,OAEAqJ,GACAL,EAAAnI,KAAAwI,EAEA,CAEA,OAAAL,CACA,EAEAM,YAAAA,GACA,YAAAlB,KACAhD,QAAA+B,GAAAA,EAAAmB,WACAiB,KAAApC,IAAA,CACAnH,KAAAmH,EAAAnH,KACAqI,OAAAlB,EAAAkB,OACAE,YAAApB,EAAAoB,YACAC,YAAArB,EAAAqB,YACAgB,OAAArC,EAAAqC,OACAC,QAAAtC,EAAAsC,WAEA,EAEA/B,cAAAA,GACA,YAAA4B,aAAAI,QAAA,CAAAC,EAAA3G,IAAA2G,EAAA3G,EAAAqF,QAAA,EACA,EAEAuB,eAAAA,GACA,YAAAnC,eAAA,KAAAC,cACA,EAEAmC,cAAAA,GACA,OACA,KAAApC,gBAAA,KAAAC,gBAAA,KAAAA,eAAA,CAEA,EAEAF,mBAAAA,GACA,YAAAC,eAAA,KAAAC,eACA,oEAEA,EACA,GAGAnE,MAAA,CACAkE,cAAAA,CAAAjE,GACA,MAAA6E,EAAAyB,WAAAtG,GAEA,KAAAiE,eADAY,EAAA,EACA,EAEAA,CAEA,GAGA,aAAA0B,SACA,KAAAC,uBACA,EAEAxJ,QAAA,KACAyJ,EAAAA,EAAAA,IAAA,uCACAA,EAAAA,EAAAA,IAAA,YACA,gBACA,mBACA,eAGA,2BAAAD,GACA,IACA,iBAAAnB,OAAAC,MAAAoB,IAAA,CACA,MAAAC,EAAA,KAAAtB,OAAAuB,OAAAD,aAEA,KAAAnD,SAAA,CACAC,UAAAkD,EAAAlD,UACAjH,KAAA,GAAAmK,EAAAE,aAAAF,EAAAG,WACAlK,KAAA+J,EAAAI,aACApC,OAAAgC,EAAAhC,QAGA,KAAAC,KAAA,KAAAA,KAAAhD,QAAA+B,GAAA,mBAAAA,EAAAnH,OACA,MAAAwK,EAAA,KAAApC,KAAA,GACAoC,IACAA,EAAAlC,UAAA,EACAkC,EAAAtG,UAAA,EACA,KAAAuD,eAAA+C,EAAAnC,OAEA,MACA,MAAAoC,QAAA,KAAAC,cAAA,KAAA7B,OAAAC,MAAAU,QACAxC,QAAA,KAAA2D,kBACA,KAAA9B,OAAAC,MAAA8B,YAGA,KAAA5D,SAAA,CACAC,UAAAD,EAAAC,UACAjH,KAAA,GAAAgH,EAAAqD,aAAArD,EAAAsD,WACAlK,KAAA4G,EAAAuD,cAAA,MACApC,OAAAnB,EAAAmB,QAGA,MAAA0C,EAAA,KAAAzC,KAAAc,MACAC,GAAA,iBAAAA,EAAAnJ,OAEA6K,IACAA,EAAAxC,OAAAoC,EAAApC,OACAwC,EAAArB,OAAAiB,EAAAK,KAGA,MAAAC,QAAA,KAAAC,iBACA,KAAAnC,OAAAC,MAAA8B,YAGAK,EAAAF,EAAA3F,QACA8F,GAAAA,EAAAJ,MAAAL,EAAAK,MAEAK,EAAAF,EAAAvB,QACA,CAAAC,EAAAuB,IAAAvB,EAAAuB,EAAA7C,QACA,GAGA+C,EAAA,KAAAhD,KAAAc,MACAC,GAAA,mBAAAA,EAAAnJ,OAOA,GALAoL,IACAA,EAAA/C,OAAA8C,EACAC,EAAA3B,QAAAwB,EAAA1B,KAAA2B,GAAAA,EAAAJ,OAGA,iBAAA9D,EAAAmB,OAAAiB,cAAA,CACA,MAAAC,EAAA,KAAAjB,KAAAc,MACAC,GAAA,qBAAAA,EAAAnJ,OAEAqJ,IACAA,EAAAf,UAAA,EACAe,EAAAnF,UAAA,EAEA,CACA,CACA,OAAAmH,GACA,KAAApD,aAAA,kCACA,KAAAS,cAAA,QACA,KAAAD,UAAA,CACA,CACA,EAEA,oBAAAb,GACA,QAAAiC,iBAAA,KAAArC,oBAAA,CAEA,KAAAK,SAAA,EACA,IACA,MAAAyD,EAAA,KAAAhC,aAAAlE,QACApC,GAAA,iBAAAA,EAAAwF,cAGA+C,EAAA,CACAX,WAAA,KAAA/B,OAAAC,MAAA8B,WACAvC,OAAA,KAAAX,eACAD,eAAAqC,WAAA,KAAArC,gBACAhD,OAAA,KAAAmF,gBACApB,YACA8C,EAAAnG,OAAA,EACA,eACA,KAAAmE,aAAA,GAAAd,YACAgD,aAAA,KAAAlC,aACAmC,cAAA,OACAtD,OAAA,YACAuD,MAAA,oBAAApC,aACAC,KAAAvG,GAAAA,EAAAhD,OACA2L,KAAA,SAGAC,EAAA,GASA,GAPA,KAAA/C,OAAAC,MAAAU,QACAoC,EAAA/K,KAAA,CACAc,GAAA,KAAAkH,OAAAC,MAAAU,OACAnB,OAAA,KAAAD,KAAAc,MAAAC,GAAA,iBAAAA,EAAAnJ,OAAAqI,SAIA,KAAAD,KAAAc,MAAAC,GAAA,mBAAAA,EAAAnJ,QAAAqI,OAAA,GACA,MAAA0C,QAAA,KAAAC,iBACA,KAAAnC,OAAAC,MAAA8B,YAEAG,EAAAc,SAAApB,IACAA,EAAAK,MAAA,KAAAjC,OAAAC,MAAAU,QACAoC,EAAA/K,KAAA,CACAc,GAAA8I,EAAAK,IACAzC,OAAAoC,EAAApC,QAEA,GAEA,CAEA,UAAAyD,KAAAF,QACA,KAAAG,WAAA,CACApK,GAAAmK,EAAAnK,GACA8I,KAAA,CACAtC,OAAA,OACA6D,WAAAF,EAAAzD,OACA4D,YAAA,IAAAC,cAKA,KAAAC,OAAAC,SAAA,yBAAAb,GAEA,KAAAtD,aAAA,iCACA,KAAAS,cAAA,UACA,KAAAD,UAAA,EAEA4D,YAAA,KACA,KAAAC,QAAAzL,KAAA,CAAAb,KAAA,cACA,IACA,OAAAqL,GACA,KAAApD,aAAAoD,EAAAkB,SAAA,2BACA,KAAA7D,cAAA,QACA,KAAAD,UAAA,CACA,SACA,KAAAZ,SAAA,CACA,CA1EA,CA2EA,EAEAC,MAAAA,GAEA0E,QACA,uEAGA,KAAAF,QAAAzL,KAAA,CACAb,KACA,cAAA6I,OAAAC,MAAAC,YACA,kBACA,WAGA,ICrfgQ,I,UCQ5P0D,GAAY,OACd,EACAC,EACAxE,GACA,EACA,KACA,WACA,MAIF,EAAeuE,EAAiB,O,0ICChC,GAAerL,EAAAA,EAAAA,GACbuL,EAAAA,EACAC,EAAAA,EACAC,EAAAA,GACAC,EAAAA,EAAAA,GAAoB,CAClB,WACA,SACA,OACA,QACA,SAGF/M,OAAO,CACPC,KAAM,aAENG,MAAO,CACL4M,IAAK1M,QACL2M,SAAU3M,QACV4M,aAAc,CACZ7M,KAAMwB,OACNrB,QAAS,IAEX2M,UAAW7M,QACX8M,KAAM9M,QACN+M,QAAS,CACPhN,KAAM,CAACiN,OAAQzL,QACfrB,QAAS,KAEX+M,WAAY,CACVlN,KAAM,CAACC,QAASuB,QAChBrB,QAAS,qBACTgN,UAAWC,GAAkB,kBAANA,IAAwB,IAANA,GAE3CC,SAAUpN,SAGZK,KAAMA,KAAA,CACJgN,eAAgB,IAGlBtL,SAAU,CACRyD,OAAAA,GACE,MAAO,CACL,oBAAqBlF,KAAKgN,SAC1B,kBAAmBhN,KAAK2B,SACxB,kBAAmB3B,KAAKiN,SAAWjN,KAAKkN,IACxC,oBAAqBlN,KAAKqM,SAC1B,0BAA2BrM,KAAKmN,cAChC,gBAAiBnN,KAAKoN,KACtB,sBAAuBpN,KAAKuM,YAAcvM,KAAK8M,SAC/C,iBAAkB9M,KAAKqN,MACvB,gBAAiBrN,KAAKwM,KACtB,eAAgBxM,KAAKkN,IACrB,oBAAqBlN,KAAK8M,SAE7B,EAGDK,aAAAA,GACE,OACGnN,KAAKwM,OACLxM,KAAKsN,QAET,EAGDzL,MAAAA,GACE,OAAO7B,KAAKmN,eACPnN,KAAKgG,MACNuH,EAAAA,EAAUxK,QAAQtB,SAASI,OAAOmB,KAAKhD,KAC5C,EACDwN,MAAAA,GACE,GAAIxN,KAAKgN,WAAahN,KAAKoM,IAAK,MAAO,CAAC,EAExC,MAAM,IACJqB,EADI,OAEJR,EAFI,OAGJS,EAHI,YAIJC,EAJI,KAKJP,EALI,MAMJC,EANI,IAOJH,GACElN,KAAK4N,SAASC,YAElB,MAAO,CACLC,eAAeC,EAAAA,EAAAA,IAAcd,EAASS,EAASC,GAC/CK,aAAaD,EAAAA,EAAAA,IAAcX,GAC3Ba,cAAcF,EAAAA,EAAAA,IAAcV,GAC5Ba,YAAYH,EAAAA,EAAAA,IAAcN,EAAMP,GAEnC,GAGHtK,MAAO,CACLjB,SAAU,aACV8K,QAAS,cAGX0B,OAAAA,GACMnO,KAAK2B,UAAU3B,KAAK0L,YACzB,EAEDtC,OAAAA,GAEMpJ,KAAKoO,OAAOC,eAAe,iBAC7BC,EAAAA,EAAAA,IAAQ,cAAetO,MAKL,GAAhBA,KAAKyM,UACP8B,EAAAA,EAAAA,IAAU,cAAe,KAAMvO,KAElC,EAEDH,QAAS,CACP2O,UAAAA,GACE,OAAOxO,KAAKK,eAAe,MAAO,CAChCJ,YAAa,oBACZ,EACDwO,EAAAA,EAAAA,IAAQzO,KAAM,SAAU,CACtBoD,MAAO,CAAEsL,MAAO,mBAGrB,EACDC,UAAAA,GACE,OAAO3O,KAAKK,eAAe,MAAO,CAChCJ,YAAa,mBACbyO,MAAO,CACL,CAAC1O,KAAKsM,eAAe,GAEvBlJ,MAAO,CACLK,KAAM,SACN,YAAa,WAEd,EAACgL,EAAAA,EAAAA,IAAQzO,OACb,EACD4O,UAAAA,GACE,MAAMC,EAAW7O,KAAKmN,cAClBnN,KAAK8O,mBACL9O,KAAK6F,aAEH9F,EAAO8O,EAAS7O,KAAK4B,MAAO,CAChC3B,YAAa,mBACbyO,MAAO1C,EAAAA,EAAOjJ,QAAQtB,SAASyD,QAAQlC,KAAKhD,MAC5C+O,MAAO/C,EAAAA,EAAOjJ,QAAQtB,SAAS+L,OAAOxK,KAAKhD,MAC3CV,WAAY,CAAC,CACXD,KAAM,OACNc,MAAOH,KAAK2B,WAEdsB,GAAI,CACF+L,aAAcA,IAAMC,OAAOC,aAAalP,KAAK+M,eAC7CoC,aAAcnP,KAAK0L,cAIvB,OAAO1L,KAAKK,eAAe,MAAON,EAAM,CACtCC,KAAK2O,aACL3O,KAAKwO,cAER,EACDY,aAAAA,GACE,OAAOpP,KAAKK,eAAe,aAAc,CACvCb,MAAO,CAAEH,KAAMW,KAAK2M,aACnB,CAAC3M,KAAK4O,cACV,EACDlD,UAAAA,GACEuD,OAAOC,aAAalP,KAAK+M,eAEzB,MAAMN,EAAUC,OAAO1M,KAAKyM,SAGzBzM,KAAK2B,WAEN,CAAC,GAAI,GAAG0N,SAAS5C,KAKnBzM,KAAK+M,cAAgBkC,OAAOvD,YAAW,KACrC1L,KAAK2B,UAAW,CAAhB,GACC8K,GACJ,GAGHV,MAAAA,CAAQuD,GACN,OAAOA,EAAE,MAAO,CACdrP,YAAa,UACbyO,MAAO1O,KAAKkF,QACZ6J,MAAO/O,KAAKwN,QACX,EACmB,IAApBxN,KAAK2M,WACD3M,KAAKoP,gBACLpP,KAAK4O,cAEZ,G","sources":["webpack://client/../../../src/mixins/rippleable/index.ts","webpack://client/../../../src/mixins/selectable/index.ts","webpack://client/../../../src/components/VCheckbox/VCheckbox.ts","webpack://client/./src/views/admin/Payments.vue","webpack://client/src/views/admin/Payments.vue","webpack://client/./src/views/admin/Payments.vue?12b2","webpack://client/./src/views/admin/Payments.vue?4616","webpack://client/../../../src/components/VSnackbar/VSnackbar.ts"],"sourcesContent":["// Directives\nimport ripple from '../../directives/ripple'\n\n// Types\nimport Vue, { VNode, VNodeData, VNodeDirective } from 'vue'\n\nexport default Vue.extend({\n  name: 'rippleable',\n\n  directives: { ripple },\n\n  props: {\n    ripple: {\n      type: [Boolean, Object],\n      default: true,\n    },\n  },\n\n  methods: {\n    genRipple (data: VNodeData = {}): VNode | null {\n      if (!this.ripple) return null\n\n      data.staticClass = 'v-input--selection-controls__ripple'\n\n      data.directives = data.directives || []\n      data.directives.push({\n        name: 'ripple',\n        value: { center: true },\n      } as VNodeDirective)\n\n      return this.$createElement('div', data)\n    },\n  },\n})\n","// Components\nimport VInput from '../../components/VInput'\n\n// Mixins\nimport Rippleable from '../rippleable'\nimport Comparable from '../comparable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\nexport function prevent (e: Event) {\n  e.preventDefault()\n}\n\n/* @vue/component */\nexport default mixins(\n  VInput,\n  Rippleable,\n  Comparable\n).extend({\n  name: 'selectable',\n\n  model: {\n    prop: 'inputValue',\n    event: 'change',\n  },\n\n  props: {\n    id: String,\n    inputValue: null as any,\n    falseValue: null as any,\n    trueValue: null as any,\n    multiple: {\n      type: Boolean,\n      default: null,\n    },\n    label: String,\n  },\n\n  data () {\n    return {\n      hasColor: this.inputValue,\n      lazyValue: this.inputValue,\n    }\n  },\n\n  computed: {\n    computedColor (): string | undefined {\n      if (!this.isActive) return undefined\n      if (this.color) return this.color\n      if (this.isDark && !this.appIsDark) return 'white'\n      return 'primary'\n    },\n    isMultiple (): boolean {\n      return this.multiple === true || (this.multiple === null && Array.isArray(this.internalValue))\n    },\n    isActive (): boolean {\n      const value = this.value\n      const input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) return false\n\n        return input.some(item => this.valueComparator(item, value))\n      }\n\n      if (this.trueValue === undefined || this.falseValue === undefined) {\n        return value\n          ? this.valueComparator(value, input)\n          : Boolean(input)\n      }\n\n      return this.valueComparator(input, this.trueValue)\n    },\n    isDirty (): boolean {\n      return this.isActive\n    },\n    rippleState (): string | undefined {\n      return !this.isDisabled && !this.validationState\n        ? undefined\n        : this.validationState\n    },\n  },\n\n  watch: {\n    inputValue (val) {\n      this.lazyValue = val\n      this.hasColor = val\n    },\n  },\n\n  methods: {\n    genLabel () {\n      const label = VInput.options.methods.genLabel.call(this)\n\n      if (!label) return label\n\n      label!.data!.on = {\n        // Label shouldn't cause the input to focus\n        click: prevent,\n      }\n\n      return label\n    },\n    genInput (type: string, attrs: object) {\n      return this.$createElement('input', {\n        attrs: Object.assign({\n          'aria-checked': this.isActive.toString(),\n          disabled: this.isDisabled,\n          id: this.computedId,\n          role: type,\n          type,\n        }, attrs),\n        domProps: {\n          value: this.value,\n          checked: this.isActive,\n        },\n        on: {\n          blur: this.onBlur,\n          change: this.onChange,\n          focus: this.onFocus,\n          keydown: this.onKeydown,\n          click: prevent,\n        },\n        ref: 'input',\n      })\n    },\n    onClick (e: Event) {\n      this.onChange()\n      this.$emit('click', e)\n    },\n    onChange () {\n      if (!this.isInteractive) return\n\n      const value = this.value\n      let input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) {\n          input = []\n        }\n\n        const length = input.length\n\n        input = input.filter((item: any) => !this.valueComparator(item, value))\n\n        if (input.length === length) {\n          input.push(value)\n        }\n      } else if (this.trueValue !== undefined && this.falseValue !== undefined) {\n        input = this.valueComparator(input, this.trueValue) ? this.falseValue : this.trueValue\n      } else if (value) {\n        input = this.valueComparator(input, value) ? null : value\n      } else {\n        input = !input\n      }\n\n      this.validate(true, input)\n      this.internalValue = input\n      this.hasColor = input\n    },\n    onFocus (e: FocusEvent) {\n      this.isFocused = true\n      this.$emit('focus', e)\n    },\n    onBlur (e: FocusEvent) {\n      this.isFocused = false\n      this.$emit('blur', e)\n    },\n    /** @abstract */\n    onKeydown (e: Event) {},\n  },\n})\n","// Styles\nimport './VCheckbox.sass'\nimport '../../styles/components/_selection-controls.sass'\n\n// Components\nimport VIcon from '../VIcon'\nimport VInput from '../VInput'\n\n// Mixins\nimport Selectable from '../../mixins/selectable'\n\n/* @vue/component */\nexport default Selectable.extend({\n  name: 'v-checkbox',\n\n  props: {\n    indeterminate: Boolean,\n    indeterminateIcon: {\n      type: String,\n      default: '$checkboxIndeterminate',\n    },\n    offIcon: {\n      type: String,\n      default: '$checkboxOff',\n    },\n    onIcon: {\n      type: String,\n      default: '$checkboxOn',\n    },\n  },\n\n  data () {\n    return {\n      inputIndeterminate: this.indeterminate,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        'v-input--selection-controls': true,\n        'v-input--checkbox': true,\n        'v-input--indeterminate': this.inputIndeterminate,\n      }\n    },\n    computedIcon (): string {\n      if (this.inputIndeterminate) {\n        return this.indeterminateIcon\n      } else if (this.isActive) {\n        return this.onIcon\n      } else {\n        return this.offIcon\n      }\n    },\n    // Do not return undefined if disabled,\n    // according to spec, should still show\n    // a color when disabled and active\n    validationState (): string | undefined {\n      if (this.isDisabled && !this.inputIndeterminate) return undefined\n      if (this.hasError && this.shouldValidate) return 'error'\n      if (this.hasSuccess) return 'success'\n      if (this.hasColor !== null) return this.computedColor\n      return undefined\n    },\n  },\n\n  watch: {\n    indeterminate (val) {\n      // https://github.com/vuetifyjs/vuetify/issues/8270\n      this.$nextTick(() => (this.inputIndeterminate = val))\n    },\n    inputIndeterminate (val) {\n      this.$emit('update:indeterminate', val)\n    },\n    isActive () {\n      if (!this.indeterminate) return\n      this.inputIndeterminate = false\n    },\n  },\n\n  methods: {\n    genCheckbox () {\n      const { title, ...checkboxAttrs } = this.attrs$\n      return this.$createElement('div', {\n        staticClass: 'v-input--selection-controls__input',\n      }, [\n        this.$createElement(VIcon, this.setTextColor(this.validationState, {\n          props: {\n            dense: this.dense,\n            dark: this.dark,\n            light: this.light,\n          },\n        }), this.computedIcon),\n        this.genInput('checkbox', {\n          ...checkboxAttrs,\n          'aria-checked': this.inputIndeterminate\n            ? 'mixed'\n            : this.isActive.toString(),\n        }),\n        this.genRipple(this.setTextColor(this.rippleState)),\n      ])\n    },\n    genDefaultSlot () {\n      return [\n        this.genCheckbox(),\n        this.genLabel(),\n      ]\n    },\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{staticClass:\"pa-0\",attrs:{\"fluid\":\"\"}},[_c('v-card',{staticClass:\"mb-4\",attrs:{\"flat\":\"\"}},[_c('v-card-text',[_c('div',{staticClass:\"text-caption grey--text mb-1\"},[_vm._v(\" Home / Payments / New Payment \")]),_c('div',{staticClass:\"text-h5 primary--text font-weight-bold\"},[_vm._v(\"New Payment\")])])],1),_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"grey lighten-4\"},[_vm._v(\"Payment Processing\")]),_c('v-card-text',[_c('v-row',{staticClass:\"grey lighten-5 pa-4 mb-4\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\"}},[_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\"Account No.\")]),_c('div',{staticClass:\"body-1 font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.consumer.accountNo)+\" \")])]),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\"}},[_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\"Consumer Name\")]),_c('div',{staticClass:\"body-1 font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.consumer.name)+\" \")])]),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\"}},[_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\"Consumer Type\")]),_c('v-chip',{attrs:{\"x-small\":\"\",\"color\":\"warning\",\"label\":\"\"}},[_vm._v(_vm._s(_vm.consumer.type))])],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\"}},[_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\"Status\")]),_c('div',{staticClass:\"body-1 font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.consumer.status)+\" \")])])],1),_c('div',{staticClass:\"mb-6\"},[_c('div',{staticClass:\"text-subtitle-1 primary--text font-weight-medium mb-3\"},[_vm._v(\" Select Transactions \")]),_c('v-card',{attrs:{\"outlined\":\"\"}},[_c('v-list',_vm._l((_vm.displayedFees),function(fee,index){return _c('v-list-item',{key:index},[_c('v-list-item-action',[_c('v-checkbox',{attrs:{\"disabled\":fee.disabled},model:{value:(fee.selected),callback:function ($$v) {_vm.$set(fee, \"selected\", $$v)},expression:\"fee.selected\"}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(fee.name))]),_c('v-list-item-subtitle',{staticClass:\"text-caption\"},[_vm._v(\" \"+_vm._s(fee.description)+\" \")])],1),_c('v-list-item-action',[_vm._v(\"₱\"+_vm._s(fee.amount.toFixed(2)))])],1)}),1)],1)],1),_c('div',{staticClass:\"mb-6\"},[_c('div',{staticClass:\"text-subtitle-1 primary--text font-weight-medium mb-3\"},[_vm._v(\" Payment Details \")]),_c('v-text-field',{attrs:{\"label\":\"Amount Received\",\"prefix\":\"₱\",\"type\":\"number\",\"outlined\":\"\",\"dense\":\"\",\"error-messages\":_vm.amountReceivedError,\"min\":\"0\",\"step\":\"0.01\"},model:{value:(_vm.amountReceived),callback:function ($$v) {_vm.amountReceived=$$v},expression:\"amountReceived\"}}),_c('v-card',{staticClass:\"grey lighten-5 mb-4\",attrs:{\"outlined\":\"\"}},[_c('v-list-item',[_c('v-list-item-content',[_vm._v(\"Amount Received\")]),_c('v-list-item-action',[_vm._v(\"₱\"+_vm._s(_vm.amountReceived))])],1),_c('v-list-item',[_c('v-list-item-content',[_vm._v(\"Total Amount Due\")]),_c('v-list-item-action',[_vm._v(\"₱\"+_vm._s(_vm.totalAmountDue.toFixed(2)))])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-content',[_vm._v(\"Change\")]),_c('v-list-item-action',{staticClass:\"success--text font-weight-bold\"},[_vm._v(\" ₱\"+_vm._s(_vm.calculateChange.toFixed(2))+\" \")])],1)],1)],1)],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"primary white--text\"},[_vm._v(\"Transaction Summary\")]),_c('v-card-text',{staticClass:\"pt-4\"},[_vm._l((_vm.summaryItems),function(item,index){return _c('v-list-item',{key:index},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(item.name))])],1),_c('v-list-item-action',[_vm._v(\"₱\"+_vm._s(item.amount.toFixed(2)))])],1)}),_c('v-divider',{staticClass:\"my-4\"}),_c('v-list-item',{staticClass:\"font-weight-bold\"},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Total Amount Due\")])],1),_c('v-list-item-action',[_vm._v(\"₱\"+_vm._s(_vm.totalAmountDue.toFixed(2)))])],1),_c('v-btn',{staticClass:\"mt-6\",attrs:{\"color\":\"primary\",\"block\":\"\",\"disabled\":!_vm.isValidPayment || !!_vm.amountReceivedError,\"loading\":_vm.loading},on:{\"click\":_vm.processPayment}},[_vm._v(\" \"+_vm._s(_vm.loading ? \"Processing...\" : \"Process Payment\")+\" \")]),_c('v-btn',{staticClass:\"mt-2\",attrs:{\"block\":\"\",\"text\":\"\",\"disabled\":_vm.loading},on:{\"click\":_vm.cancel}},[_vm._v(\" Cancel \")])],2)],1)],1)],1)],1),_c('v-snackbar',{attrs:{\"color\":_vm.snackbarColor,\"timeout\":\"3000\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\"Close\")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarText)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid class=\"pa-0\">\n    <!-- Page Header -->\n    <v-card flat class=\"mb-4\">\n      <v-card-text>\n        <div class=\"text-caption grey--text mb-1\">\n          Home / Payments / New Payment\n        </div>\n        <div class=\"text-h5 primary--text font-weight-bold\">New Payment</div>\n      </v-card-text>\n    </v-card>\n\n    <v-container>\n      <v-row>\n        <!-- Payment Form Section -->\n        <v-col cols=\"12\" md=\"8\">\n          <v-card>\n            <v-card-title class=\"grey lighten-4\"\n              >Payment Processing</v-card-title\n            >\n\n            <v-card-text>\n              <!-- Consumer Information -->\n              <v-row class=\"grey lighten-5 pa-4 mb-4\">\n                <v-col cols=\"12\" sm=\"6\" md=\"3\">\n                  <div class=\"caption grey--text\">Account No.</div>\n                  <div class=\"body-1 font-weight-medium\">\n                    {{ consumer.accountNo }}\n                  </div>\n                </v-col>\n                <v-col cols=\"12\" sm=\"6\" md=\"3\">\n                  <div class=\"caption grey--text\">Consumer Name</div>\n                  <div class=\"body-1 font-weight-medium\">\n                    {{ consumer.name }}\n                  </div>\n                </v-col>\n                <v-col cols=\"12\" sm=\"6\" md=\"3\">\n                  <div class=\"caption grey--text\">Consumer Type</div>\n                  <v-chip x-small color=\"warning\" label>{{\n                    consumer.type\n                  }}</v-chip>\n                </v-col>\n                <v-col cols=\"12\" sm=\"6\" md=\"3\">\n                  <div class=\"caption grey--text\">Status</div>\n                  <div class=\"body-1 font-weight-medium\">\n                    {{ consumer.status }}\n                  </div>\n                </v-col>\n              </v-row>\n\n              <!-- Transaction Selection -->\n              <div class=\"mb-6\">\n                <div\n                  class=\"text-subtitle-1 primary--text font-weight-medium mb-3\"\n                >\n                  Select Transactions\n                </div>\n                <v-card outlined>\n                  <v-list>\n                    <v-list-item\n                      v-for=\"(fee, index) in displayedFees\"\n                      :key=\"index\"\n                    >\n                      <v-list-item-action>\n                        <v-checkbox\n                          v-model=\"fee.selected\"\n                          :disabled=\"fee.disabled\"\n                        ></v-checkbox>\n                      </v-list-item-action>\n                      <v-list-item-content>\n                        <v-list-item-title>{{ fee.name }}</v-list-item-title>\n                        <v-list-item-subtitle class=\"text-caption\">\n                          {{ fee.description }}\n                        </v-list-item-subtitle>\n                      </v-list-item-content>\n                      <v-list-item-action\n                        >₱{{ fee.amount.toFixed(2) }}</v-list-item-action\n                      >\n                    </v-list-item>\n                  </v-list>\n                </v-card>\n              </div>\n\n              <!-- Payment Details -->\n              <div class=\"mb-6\">\n                <div\n                  class=\"text-subtitle-1 primary--text font-weight-medium mb-3\"\n                >\n                  Payment Details\n                </div>\n                <v-text-field\n                  v-model=\"amountReceived\"\n                  label=\"Amount Received\"\n                  prefix=\"₱\"\n                  type=\"number\"\n                  outlined\n                  dense\n                  :error-messages=\"amountReceivedError\"\n                  min=\"0\"\n                  step=\"0.01\"\n                ></v-text-field>\n\n                <!-- Payment Calculation -->\n                <v-card outlined class=\"grey lighten-5 mb-4\">\n                  <v-list-item>\n                    <v-list-item-content>Amount Received</v-list-item-content>\n                    <v-list-item-action\n                      >₱{{ amountReceived }}</v-list-item-action\n                    >\n                  </v-list-item>\n                  <v-list-item>\n                    <v-list-item-content>Total Amount Due</v-list-item-content>\n                    <v-list-item-action\n                      >₱{{ totalAmountDue.toFixed(2) }}</v-list-item-action\n                    >\n                  </v-list-item>\n                  <v-divider></v-divider>\n                  <v-list-item>\n                    <v-list-item-content>Change</v-list-item-content>\n                    <v-list-item-action class=\"success--text font-weight-bold\">\n                      ₱{{ calculateChange.toFixed(2) }}\n                    </v-list-item-action>\n                  </v-list-item>\n                </v-card>\n              </div>\n            </v-card-text>\n          </v-card>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"4\">\n          <v-card>\n            <v-card-title class=\"primary white--text\"\n              >Transaction Summary</v-card-title\n            >\n            <v-card-text class=\"pt-4\">\n              <v-list-item v-for=\"(item, index) in summaryItems\" :key=\"index\">\n                <v-list-item-content>\n                  <v-list-item-title>{{ item.name }}</v-list-item-title>\n                </v-list-item-content>\n                <v-list-item-action\n                  >₱{{ item.amount.toFixed(2) }}</v-list-item-action\n                >\n              </v-list-item>\n\n              <v-divider class=\"my-4\"></v-divider>\n\n              <v-list-item class=\"font-weight-bold\">\n                <v-list-item-content>\n                  <v-list-item-title>Total Amount Due</v-list-item-title>\n                </v-list-item-content>\n                <v-list-item-action\n                  >₱{{ totalAmountDue.toFixed(2) }}</v-list-item-action\n                >\n              </v-list-item>\n\n              <v-btn\n                color=\"primary\"\n                block\n                class=\"mt-6\"\n                @click=\"processPayment\"\n                :disabled=\"!isValidPayment || !!amountReceivedError\"\n                :loading=\"loading\"\n              >\n                {{ loading ? \"Processing...\" : \"Process Payment\" }}\n              </v-btn>\n\n              <v-btn\n                block\n                text\n                class=\"mt-2\"\n                @click=\"cancel\"\n                :disabled=\"loading\"\n              >\n                Cancel\n              </v-btn>\n            </v-card-text>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n\n    <!-- Snackbar -->\n    <v-snackbar v-model=\"snackbar\" :color=\"snackbarColor\" timeout=\"3000\">\n      {{ snackbarText }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn text v-bind=\"attrs\" @click=\"snackbar = false\">Close</v-btn>\n      </template>\n    </v-snackbar>\n  </v-container>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"PaymentPage\",\n\n  data: () => ({\n    consumer: {\n      accountNo: \"\",\n      name: \"\",\n      type: \"\",\n      status: \"\",\n    },\n    fees: [\n      {\n        name: \"Current Bill\",\n        amount: 0,\n        selected: true,\n        disabled: true,\n        description: \"Current water bill payment\",\n        paymentType: \"BILL_PAYMENT\",\n      },\n      {\n        name: \"Unpaid Balance\",\n        amount: 0,\n        selected: true,\n        disabled: true,\n        description: \"Unpaid balance\",\n        paymentType: \"BILL_PAYMENT\",\n      },\n      {\n        name: \"Membership Fee\",\n        amount: 300.0,\n        selected: false,\n        disabled: false,\n        description: \"One-time membership fee for new consumers\",\n        paymentType: \"MEMBERSHIP_FEE\",\n      },\n      {\n        name: \"Reconnection Fee\",\n        amount: 50.0,\n        selected: false,\n        disabled: false,\n        description: \"Water reconnection service fee\",\n        paymentType: \"RECONNECTION_FEE\",\n      },\n    ],\n    amountReceived: 0,\n    loading: false,\n    snackbar: false,\n    snackbarText: \"\",\n    snackbarColor: \"\",\n  }),\n\n  computed: {\n    ...mapState(\"consumers\", [\"currentConsumer\"]),\n    ...mapState(\"billings\", [\"currentBill\"]),\n\n    displayedFees() {\n      if (this.$route.query.newConsumer === \"true\") {\n        return this.fees.filter((fee) => fee.name === \"Membership Fee\");\n      }\n\n      let displayFees = this.fees.filter((fee) => fee.name === \"Current Bill\");\n\n      const unpaidBalanceFee = this.fees.find(\n        (f) => f.name === \"Unpaid Balance\"\n      );\n      if (unpaidBalanceFee && unpaidBalanceFee.amount > 0) {\n        displayFees.push(unpaidBalanceFee);\n      }\n\n      if (this.consumer.status.toLowerCase() === \"disconnected\") {\n        const reconnectionFee = this.fees.find(\n          (f) => f.name === \"Reconnection Fee\"\n        );\n        if (reconnectionFee) {\n          displayFees.push(reconnectionFee);\n        }\n      }\n\n      return displayFees;\n    },\n\n    summaryItems() {\n      return this.fees\n        .filter((fee) => fee.selected)\n        .map((fee) => ({\n          name: fee.name,\n          amount: fee.amount,\n          description: fee.description,\n          paymentType: fee.paymentType,\n          billId: fee.billId,\n          billIds: fee.billIds,\n        }));\n    },\n\n    totalAmountDue() {\n      return this.summaryItems.reduce((total, item) => total + item.amount, 0);\n    },\n\n    calculateChange() {\n      return this.amountReceived - this.totalAmountDue;\n    },\n\n    isValidPayment() {\n      return (\n        this.amountReceived >= this.totalAmountDue && this.totalAmountDue > 0\n      );\n    },\n\n    amountReceivedError() {\n      if (this.amountReceived < this.totalAmountDue) {\n        return \"Amount received must be greater than or equal to total amount due\";\n      }\n      return \"\";\n    },\n  },\n\n  watch: {\n    amountReceived(val) {\n      const amount = parseFloat(val);\n      if (amount < 0) {\n        this.amountReceived = 0;\n      } else {\n        this.amountReceived = amount;\n      }\n    },\n  },\n\n  async created() {\n    await this.initializePaymentData();\n  },\n\n  methods: {\n    ...mapActions(\"consumers\", [\"fetchConsumerById\"]),\n    ...mapActions(\"billings\", [\n      \"fetchBillById\",\n      \"fetchUnpaidBills\",\n      \"updateBill\",\n    ]),\n\n    async initializePaymentData() {\n      try {\n        if (this.$route.query.new === \"true\") {\n          const consumerData = this.$route.params.consumerData;\n\n          this.consumer = {\n            accountNo: consumerData.accountNo,\n            name: `${consumerData.firstName} ${consumerData.lastName}`,\n            type: consumerData.consumerType,\n            status: consumerData.status,\n          };\n\n          this.fees = this.fees.filter((fee) => fee.name === \"Membership Fee\");\n          const membershipFee = this.fees[0];\n          if (membershipFee) {\n            membershipFee.selected = true;\n            membershipFee.disabled = true;\n            this.amountReceived = membershipFee.amount;\n          }\n        } else {\n          const bill = await this.fetchBillById(this.$route.query.billId);\n          const consumer = await this.fetchConsumerById(\n            this.$route.query.consumerId\n          );\n\n          this.consumer = {\n            accountNo: consumer.accountNo,\n            name: `${consumer.firstName} ${consumer.lastName}`,\n            type: consumer.consumerType || \"old\",\n            status: consumer.status,\n          };\n\n          const currentBillFee = this.fees.find(\n            (f) => f.name === \"Current Bill\"\n          );\n          if (currentBillFee) {\n            currentBillFee.amount = bill.amount;\n            currentBillFee.billId = bill._id;\n          }\n\n          const unpaidBills = await this.fetchUnpaidBills(\n            this.$route.query.consumerId\n          );\n\n          const previousBalanceBills = unpaidBills.filter(\n            (b) => b._id !== bill._id\n          );\n          const previousBalance = previousBalanceBills.reduce(\n            (total, b) => total + b.amount,\n            0\n          );\n\n          const previousBalanceFee = this.fees.find(\n            (f) => f.name === \"Unpaid Balance\"\n          );\n          if (previousBalanceFee) {\n            previousBalanceFee.amount = previousBalance;\n            previousBalanceFee.billIds = previousBalanceBills.map((b) => b._id);\n          }\n\n          if (consumer.status.toLowerCase() === \"disconnected\") {\n            const reconnectionFee = this.fees.find(\n              (f) => f.name === \"Reconnection Fee\"\n            );\n            if (reconnectionFee) {\n              reconnectionFee.selected = true;\n              reconnectionFee.disabled = false;\n            }\n          }\n        }\n      } catch (error) {\n        this.snackbarText = \"Error initializing payment data\";\n        this.snackbarColor = \"error\";\n        this.snackbar = true;\n      }\n    },\n\n    async processPayment() {\n      if (!this.isValidPayment || this.amountReceivedError) return;\n\n      this.loading = true;\n      try {\n        const billPayments = this.summaryItems.filter(\n          (item) => item.paymentType === \"BILL_PAYMENT\"\n        );\n\n        const paymentData = {\n          consumerId: this.$route.query.consumerId,\n          amount: this.totalAmountDue,\n          amountReceived: parseFloat(this.amountReceived),\n          change: this.calculateChange,\n          paymentType:\n            billPayments.length > 0\n              ? \"BILL_PAYMENT\"\n              : this.summaryItems[0].paymentType,\n          selectedFees: this.summaryItems,\n          paymentMethod: \"CASH\",\n          status: \"completed\",\n          notes: `Payment for ${this.summaryItems\n            .map((item) => item.name)\n            .join(\", \")}`,\n        };\n\n        const billUpdates = [];\n\n        if (this.$route.query.billId) {\n          billUpdates.push({\n            id: this.$route.query.billId,\n            amount: this.fees.find((f) => f.name === \"Current Bill\").amount,\n          });\n        }\n\n        if (this.fees.find((f) => f.name === \"Unpaid Balance\")?.amount > 0) {\n          const unpaidBills = await this.fetchUnpaidBills(\n            this.$route.query.consumerId\n          );\n          unpaidBills.forEach((bill) => {\n            if (bill._id !== this.$route.query.billId) {\n              billUpdates.push({\n                id: bill._id,\n                amount: bill.amount,\n              });\n            }\n          });\n        }\n\n        for (const billUpdate of billUpdates) {\n          await this.updateBill({\n            id: billUpdate.id,\n            bill: {\n              status: \"paid\",\n              paidAmount: billUpdate.amount,\n              paymentDate: new Date(),\n            },\n          });\n        }\n\n        await this.$store.dispatch(\"payments/createPayment\", paymentData);\n\n        this.snackbarText = \"Payment processed successfully\";\n        this.snackbarColor = \"success\";\n        this.snackbar = true;\n\n        setTimeout(() => {\n          this.$router.push({ name: \"Billing\" });\n        }, 2000);\n      } catch (error) {\n        this.snackbarText = error.message || \"Error processing payment\";\n        this.snackbarColor = \"error\";\n        this.snackbar = true;\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    cancel() {\n      if (\n        confirm(\n          \"Are you sure you want to cancel? Any unsaved changes will be lost.\"\n        )\n      ) {\n        this.$router.push({\n          name:\n            this.$route.query.newConsumer === \"true\"\n              ? \"ConsumerRecords\"\n              : \"Billing\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.v-card {\n  border-radius: 8px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Payments.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Payments.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Payments.vue?vue&type=template&id=b463aa86&scoped=true\"\nimport script from \"./Payments.vue?vue&type=script&lang=js\"\nexport * from \"./Payments.vue?vue&type=script&lang=js\"\nimport style0 from \"./Payments.vue?vue&type=style&index=0&id=b463aa86&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b463aa86\",\n  null\n  \n)\n\nexport default component.exports","// Styles\nimport './VSnackbar.sass'\n\n// Components\nimport VSheet from '../VSheet/VSheet'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\nimport Toggleable from '../../mixins/toggleable'\nimport { factory as PositionableFactory } from '../../mixins/positionable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport { deprecate, removed } from '../../util/console'\n\n// Types\nimport { PropType, VNode } from 'vue'\n\nexport default mixins(\n  VSheet,\n  Colorable,\n  Toggleable,\n  PositionableFactory([\n    'absolute',\n    'bottom',\n    'left',\n    'right',\n    'top',\n  ])\n/* @vue/component */\n).extend({\n  name: 'v-snackbar',\n\n  props: {\n    app: Boolean,\n    centered: Boolean,\n    contentClass: {\n      type: String,\n      default: '',\n    },\n    multiLine: Boolean,\n    text: Boolean,\n    timeout: {\n      type: [Number, String],\n      default: 5000,\n    },\n    transition: {\n      type: [Boolean, String] as PropType<false | string>,\n      default: 'v-snack-transition',\n      validator: v => typeof v === 'string' || v === false,\n    },\n    vertical: Boolean,\n  },\n\n  data: () => ({\n    activeTimeout: -1,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-snack--absolute': this.absolute,\n        'v-snack--active': this.isActive,\n        'v-snack--bottom': this.bottom || !this.top,\n        'v-snack--centered': this.centered,\n        'v-snack--has-background': this.hasBackground,\n        'v-snack--left': this.left,\n        'v-snack--multi-line': this.multiLine && !this.vertical,\n        'v-snack--right': this.right,\n        'v-snack--text': this.text,\n        'v-snack--top': this.top,\n        'v-snack--vertical': this.vertical,\n      }\n    },\n    // Text and outlined styles both\n    // use transparent backgrounds\n    hasBackground (): boolean {\n      return (\n        !this.text &&\n        !this.outlined\n      )\n    },\n    // Snackbar is dark by default\n    // override themeable logic.\n    isDark (): boolean {\n      return this.hasBackground\n        ? !this.light\n        : Themeable.options.computed.isDark.call(this)\n    },\n    styles (): object {\n      if (this.absolute || !this.app) return {}\n\n      const {\n        bar,\n        bottom,\n        footer,\n        insetFooter,\n        left,\n        right,\n        top,\n      } = this.$vuetify.application\n\n      return {\n        paddingBottom: convertToUnit(bottom + footer + insetFooter),\n        paddingLeft: convertToUnit(left),\n        paddingRight: convertToUnit(right),\n        paddingTop: convertToUnit(bar + top),\n      }\n    },\n  },\n\n  watch: {\n    isActive: 'setTimeout',\n    timeout: 'setTimeout',\n  },\n\n  mounted () {\n    if (this.isActive) this.setTimeout()\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('auto-height')) {\n      removed('auto-height', this)\n    }\n\n    /* istanbul ignore next */\n    // eslint-disable-next-line eqeqeq\n    if (this.timeout == 0) {\n      deprecate('timeout=\"0\"', '-1', this)\n    }\n  },\n\n  methods: {\n    genActions () {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__action ',\n      }, [\n        getSlot(this, 'action', {\n          attrs: { class: 'v-snack__btn' },\n        }),\n      ])\n    },\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__content',\n        class: {\n          [this.contentClass]: true,\n        },\n        attrs: {\n          role: 'status',\n          'aria-live': 'polite',\n        },\n      }, [getSlot(this)])\n    },\n    genWrapper () {\n      const setColor = this.hasBackground\n        ? this.setBackgroundColor\n        : this.setTextColor\n\n      const data = setColor(this.color, {\n        staticClass: 'v-snack__wrapper',\n        class: VSheet.options.computed.classes.call(this),\n        style: VSheet.options.computed.styles.call(this),\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n        on: {\n          pointerenter: () => window.clearTimeout(this.activeTimeout),\n          pointerleave: this.setTimeout,\n        },\n      })\n\n      return this.$createElement('div', data, [\n        this.genContent(),\n        this.genActions(),\n      ])\n    },\n    genTransition () {\n      return this.$createElement('transition', {\n        props: { name: this.transition },\n      }, [this.genWrapper()])\n    },\n    setTimeout () {\n      window.clearTimeout(this.activeTimeout)\n\n      const timeout = Number(this.timeout)\n\n      if (\n        !this.isActive ||\n        // TODO: remove 0 in v3\n        [0, -1].includes(timeout)\n      ) {\n        return\n      }\n\n      this.activeTimeout = window.setTimeout(() => {\n        this.isActive = false\n      }, timeout)\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-snack',\n      class: this.classes,\n      style: this.styles,\n    }, [\n      this.transition !== false\n        ? this.genTransition()\n        : this.genWrapper(),\n    ])\n  },\n})\n"],"names":["Vue","extend","name","directives","ripple","props","type","Boolean","Object","default","methods","genRipple","data","this","staticClass","push","value","center","$createElement","prevent","e","preventDefault","mixins","VInput","Rippleable","Comparable","model","prop","event","id","String","inputValue","falseValue","trueValue","multiple","label","hasColor","lazyValue","computed","computedColor","isActive","color","isDark","appIsDark","isMultiple","Array","isArray","internalValue","input","some","item","valueComparator","undefined","isDirty","rippleState","isDisabled","validationState","watch","val","genLabel","options","call","on","click","genInput","attrs","assign","toString","disabled","computedId","role","domProps","checked","blur","onBlur","change","onChange","focus","onFocus","keydown","onKeydown","ref","onClick","$emit","isInteractive","length","filter","validate","isFocused","Selectable","indeterminate","indeterminateIcon","offIcon","onIcon","inputIndeterminate","classes","computedIcon","hasError","shouldValidate","hasSuccess","$nextTick","genCheckbox","title","checkboxAttrs","attrs$","VIcon","setTextColor","dense","dark","light","genDefaultSlot","_v","_c","_vm","consumer","accountNo","index","fee","callback","$$v","$set","expression","amountReceivedError","amountReceived","totalAmountDue","toFixed","processPayment","loading","cancel","key","fn","snackbarText","staticRenderFns","status","fees","amount","selected","description","paymentType","snackbar","snackbarColor","mapState","displayedFees","$route","query","newConsumer","displayFees","unpaidBalanceFee","find","f","toLowerCase","reconnectionFee","summaryItems","map","billId","billIds","reduce","total","calculateChange","isValidPayment","parseFloat","created","initializePaymentData","mapActions","new","consumerData","params","firstName","lastName","consumerType","membershipFee","bill","fetchBillById","fetchConsumerById","consumerId","currentBillFee","_id","unpaidBills","fetchUnpaidBills","previousBalanceBills","b","previousBalance","previousBalanceFee","error","billPayments","paymentData","selectedFees","paymentMethod","notes","join","billUpdates","forEach","billUpdate","updateBill","paidAmount","paymentDate","Date","$store","dispatch","setTimeout","$router","message","confirm","component","render","VSheet","Colorable","Toggleable","PositionableFactory","app","centered","contentClass","multiLine","text","timeout","Number","transition","validator","v","vertical","activeTimeout","absolute","bottom","top","hasBackground","left","right","outlined","Themeable","styles","bar","footer","insetFooter","$vuetify","application","paddingBottom","convertToUnit","paddingLeft","paddingRight","paddingTop","mounted","$attrs","hasOwnProperty","removed","deprecate","genActions","getSlot","class","genContent","genWrapper","setColor","setBackgroundColor","style","pointerenter","window","clearTimeout","pointerleave","genTransition","includes","h"],"sourceRoot":""}