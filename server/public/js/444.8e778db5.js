"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[444],{1444:function(t,s,e){e.r(s),e.d(s,{default:function(){return D}});var i=e(6103),a=e(7314),r=e(3698),l=e(2938),n=e(3180),c=e(4414),o=e(3449),d=e(9483),m=e(6930),u=e(8983),v=e(7296),h=e(2659),p=e(8519),A=e(2756),_=e(1034),g=function(){var t=this,s=t._self._c;return s(o.A,{staticClass:"px-6"},[s("div",{staticClass:"mb-6"},[s(i.A,{staticClass:"pa-0",attrs:{items:t.breadcrumbs,divider:"/"}})],1),s(A.A,{staticClass:"mb-6"},[s(c.A,{attrs:{cols:"12",sm:"6",md:"3"}},[s(r.A,{staticClass:"stats-card",attrs:{outlined:""}},[s(l.OQ,[s("div",{staticClass:"text-overline mb-2"},[t._v("Total Consumers")]),s("div",{staticClass:"d-flex align-center"},[s(m.A,{staticClass:"mr-3",attrs:{size:"36",color:"primary"}},[t._v("mdi-account-group")]),s("span",{staticClass:"text-h4 font-weight-bold"},[t._v(t._s(t.summary.totalConsumers))])],1),s("div",{staticClass:"mt-2 text-caption"},[t._v(" Active: "+t._s(t.summary.activeConsumers)+" ")])])],1)],1),s(c.A,{attrs:{cols:"12",sm:"6",md:"3"}},[s(r.A,{staticClass:"stats-card",attrs:{outlined:""}},[s(l.OQ,[s("div",{staticClass:"text-overline mb-2"},[t._v("Current Month Readings")]),s("div",{staticClass:"d-flex align-center"},[s(m.A,{staticClass:"mr-3",attrs:{size:"36",color:"success"}},[t._v("mdi-meter-electric")]),s("span",{staticClass:"text-h4 font-weight-bold"},[t._v(t._s(t.summary.currentMonthReadings))])],1),s("div",{staticClass:"mt-2 text-caption"},[t._v("Total readings this month")])])],1)],1),s(c.A,{attrs:{cols:"12",sm:"6",md:"3"}},[s(r.A,{staticClass:"stats-card",attrs:{outlined:""}},[s(l.OQ,[s("div",{staticClass:"text-overline mb-2"},[t._v("Unpaid Bills")]),s("div",{staticClass:"d-flex align-center"},[s(m.A,{staticClass:"mr-3",attrs:{size:"36",color:"warning"}},[t._v("mdi-file-document-alert")]),s("span",{staticClass:"text-h4 font-weight-bold"},[t._v(t._s(t.summary.totalUnpaidBills))])],1),s("div",{staticClass:"mt-2 text-caption"},[t._v(" Overdue: "+t._s(t.summary.totalOverdueBills)+" ")])])],1)],1),s(c.A,{attrs:{cols:"12",sm:"6",md:"3"}},[s(r.A,{staticClass:"stats-card",attrs:{outlined:""}},[s(l.OQ,[s("div",{staticClass:"text-overline mb-2"},[t._v("Monthly Expenses")]),s("div",{staticClass:"d-flex align-center"},[s(m.A,{staticClass:"mr-3",attrs:{size:"36",color:"error"}},[t._v("mdi-currency-php")]),s("span",{staticClass:"text-h4 font-weight-bold"},[t._v(t._s(t.formatCurrency(t.summary.monthlyExpenses)))])],1),s("div",{staticClass:"mt-2 text-caption"},[t._v("Total expenses this month")])])],1)],1)],1),s(A.A,[s(c.A,{attrs:{cols:"12",md:"6"}},[s(r.A,{staticClass:"mb-6",attrs:{outlined:""}},[s(l.ri,{staticClass:"subtitle-1 d-flex align-center grey lighten-4 py-3"},[s(m.A,{attrs:{left:"",color:"primary"}},[t._v("mdi-file-document")]),t._v(" Recent Bills "),s(_.A),s(a.A,{attrs:{small:"",text:"",color:"primary"},on:{click:t.viewAllBills}},[t._v(" View All Bills ")])],1),s(u.A,[t._l(t.recentActivities.recentBills,(function(e,i){return[s(v.A,{key:e._id},[s(p.pr,[s(p.UZ,{staticClass:"font-weight-medium"},[t._v(" "+t._s(e.consumerId.firstName)+" "+t._s(e.consumerId.lastName)+" ")]),s(p.w,{staticClass:"text-caption"},[t._v(" Bill No: "+t._s(e.billNumber)+" | Amount: ₱"+t._s(t.formatCurrency(e.amount))+" ")])],1),s(h.A,[s(n.A,{attrs:{small:"",color:t.getBillStatusColor(e.status),"text-color":"white"}},[t._v(" "+t._s(e.status)+" ")])],1)],1),i<t.recentActivities.recentBills.length-1?s(d.A,{key:`divider-${e._id}`}):t._e()]}))],2)],1)],1),s(c.A,{attrs:{cols:"12",md:"6"}},[s(r.A,{attrs:{outlined:""}},[s(l.ri,{staticClass:"subtitle-1 d-flex align-center grey lighten-4 py-3"},[s(m.A,{attrs:{left:"",color:"primary"}},[t._v("mdi-meter-electric")]),t._v(" Recent Meter Readings "),s(_.A),s(a.A,{attrs:{small:"",text:"",color:"primary"},on:{click:t.viewAllReadings}},[t._v(" View All Readings ")])],1),s(u.A,[t._l(t.recentActivities.recentReadings,(function(e,i){return[s(v.A,{key:e._id},[s(p.pr,[s(p.UZ,{staticClass:"font-weight-medium"},[t._v(" "+t._s(e.consumerId.firstName)+" "+t._s(e.consumerId.lastName)+" ")]),s(p.w,{staticClass:"text-caption"},[t._v(" Reading: "+t._s(e.currentReading)+" m³ | Previous: "+t._s(e.previousReading)+" m³ ")])],1),s(h.A,[s(n.A,{attrs:{small:"",color:"info","text-color":"white"}},[t._v(" "+t._s(t.formatDate(e.readingDate))+" ")])],1)],1),i<t.recentActivities.recentReadings.length-1?s(d.A,{key:`divider-${e._id}`}):t._e()]}))],2)],1)],1)],1)],1)},C=[],b=(e(4114),e(5353)),f={name:"DashboardPage",data:()=>({breadcrumbs:[{text:"Home",disabled:!0},{text:"Dashboard",disabled:!0}]}),computed:{...(0,b.aH)("dashboards",["summary","recentActivities"])},async created(){await this.fetchAllDashboardData()},methods:{...(0,b.i0)("dashboards",["fetchAllDashboardData"]),formatDate(t){return new Date(t).toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric"})},formatCurrency(t){return new Intl.NumberFormat("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},getBillStatusColor(t){return{paid:"success",unpaid:"warning",overdue:"error"}[t]||"grey"},viewAllBills(){this.$router.push("/admin/billing")},viewAllReadings(){this.$router.push("/admin/readings")}}},x=f,y=e(1656),w=(0,y.A)(x,g,C,!1,null,"c7a8804a",null),D=w.exports},6103:function(t,s,e){e.d(s,{A:function(){return c}});e(4114);var i=e(5595),a=e(4152),r=(0,a.Gn)("v-breadcrumbs__divider","li"),l=e(3381),n=e(5803),c=(0,n.A)(l.A).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:()=>[]},large:Boolean},computed:{classes(){return{"v-breadcrumbs--large":this.large,...this.themeClasses}}},methods:{genDivider(){return this.$createElement(r,this.$slots.divider?this.$slots.divider:this.divider)},genItems(){const t=[],s=!!this.$scopedSlots.item,e=[];for(let a=0;a<this.items.length;a++){const r=this.items[a];e.push(r.text),s?t.push(this.$scopedSlots.item({item:r})):t.push(this.$createElement(i.A,{key:e.join("."),props:r},[r.text])),a<this.items.length-1&&t.push(this.genDivider())}return t}},render(t){const s=(0,a.$c)(this)||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},s)}})},5595:function(t,s,e){var i=e(8418),a=e(5803),r=e(4152);s.A=(0,a.A)(i.A).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes(){return{"v-breadcrumbs__item":!0,[this.activeClass]:this.disabled}}},render(t){const{tag:s,data:e}=this.generateRouteLink();return t("li",[t(s,{...e,attrs:{...e.attrs,"aria-current":this.isActive&&this.isLink?"page":void 0}},(0,r.$c)(this))])}})},1034:function(t,s,e){e(8568);var i=e(4152);s.A=(0,i.Gn)("spacer","div","v-spacer")}}]);
//# sourceMappingURL=444.8e778db5.js.map