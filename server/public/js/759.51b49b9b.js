"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[759],{6552:function(t,e,s){s.r(e),s.d(e,{default:function(){return $}});var i=s(4112),a=s(6103),n=s(5595),r=s(7314),o=s(1484),l=s(2938),d=s(3180),c=s(4414),u=s(3449),g=s(9483),h=s(174),m=s(6930),p=s(7296),v=s(2659),f=s(3138),w=s(8519),C=s(2756),_=s(2197),R=s(7150),b=s(1034),y=s(7112),k=s(6513),A=function(){var t=this,e=t._self._c;return e(u.A,{staticClass:"px-2"},[e("div",{staticClass:"mb-4"},[e(a.A,{staticClass:"pa-0",attrs:{items:t.breadcrumbs,divider:"/"},scopedSlots:t._u([{key:"item",fn:function({item:s}){return[e(n.A,{staticClass:"subtitle-2",attrs:{href:s.href,disabled:s.disabled}},[t._v(" "+t._s(s.text)+" ")])]}}])}),e("div",{staticClass:"d-flex flex-wrap align-center justify-space-between mb-2"},[e("h1",{staticClass:"text-h5 primary--text font-weight-bold"}),e(d.A,{staticClass:"ml-2",attrs:{color:"primary",small:""}},[e(m.A,{attrs:{left:"","x-small":""}},[t._v("mdi-clock-outline")]),t._v(" "+t._s(t.getPendingReadingsCount)+" Pending ")],1)],1)],1),e(o.A,{staticClass:"mb-3",attrs:{outlined:""}},[e(l.OQ,{staticClass:"py-2"},[e(C.A,{attrs:{align:"center","no-gutters":""}},[e(c.A,{staticClass:"pr-sm-3",attrs:{cols:"12",sm:"4"}},[e(_.A,{staticClass:"billing-period-select",attrs:{items:t.billingPeriods,dense:"",outlined:"","hide-details":"",label:"Billing Period"},model:{value:t.selectedBillingPeriod,callback:function(e){t.selectedBillingPeriod=e},expression:"selectedBillingPeriod"}})],1),e(c.A,{staticClass:"mt-3 mt-sm-0",attrs:{cols:"12",sm:"8"}},[e(C.A,{attrs:{"no-gutters":""}},[e(c.A,{attrs:{cols:"4"}},[e("div",{staticClass:"text-center stat-box"},[e("div",{staticClass:"overline"},[t._v("Total")]),e("div",{staticClass:"text-h6"},[t._v(t._s(t.getTotalConsumers))])])]),e(c.A,{attrs:{cols:"4"}},[e("div",{staticClass:"text-center stat-box"},[e("div",{staticClass:"overline"},[t._v("Completed")]),e("div",{staticClass:"text-h6 success--text"},[t._v(" "+t._s(t.getCompletedReadings)+" ")])])]),e(c.A,{attrs:{cols:"4"}},[e("div",{staticClass:"text-center stat-box"},[e("div",{staticClass:"overline"},[t._v("Pending")]),e("div",{staticClass:"text-h6 error--text"},[t._v(" "+t._s(t.getPendingReadingsCount)+" ")])])])],1)],1)],1)],1)],1),e(o.A,{staticClass:"mb-3",attrs:{outlined:""}},[e(l.OQ,{staticClass:"py-2"},[e(y.A,{attrs:{label:"Search Account Number",dense:"",outlined:"","hide-details":"",clearable:"","prepend-inner-icon":"mdi-magnify"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchConsumer.apply(null,arguments)}},scopedSlots:t._u([{key:"append",fn:function(){return[e(r.A,{staticClass:"mb-2",attrs:{color:"primary",loading:t.loading,small:""},on:{click:t.searchConsumer}},[t._v(" Search ")])]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t.selectedConsumer?[e(o.A,{staticClass:"mb-3",attrs:{outlined:""}},[e(l.OQ,{staticClass:"pt-3"},[e("div",{staticClass:"d-flex align-center mb-3"},[e("div",{staticClass:"d-flex align-center flex-grow-1"},[e(i.A,{staticClass:"mr-3",attrs:{color:"primary lighten-4",size:"40"}},[e(m.A,{attrs:{color:"primary"}},[t._v("mdi-account")])],1),e("div",[e("div",{staticClass:"text-subtitle-1 font-weight-medium"},[t._v(" "+t._s(t.selectedConsumer.firstName)+" "+t._s(t.selectedConsumer.lastName)+" ")]),e("div",{staticClass:"caption grey--text"},[t._v(" Account: "+t._s(t.selectedConsumer.accountNo)+" ")])])],1),e("div",{staticClass:"d-flex align-center"},[e(d.A,{staticClass:"mr-2",attrs:{color:t.getStatusColor(t.selectedConsumer.status),"x-small":"",label:""}},[t._v(" "+t._s(t.selectedConsumer.status)+" ")]),e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.isEditing?"Editing Reading":"New Reading")+" ")])],1)]),e("div",{staticClass:"mb-4"},[e("div",{staticClass:"caption grey--text"},[t._v("Address")]),e("div",{staticClass:"body-2"},[t._v(t._s(t.selectedConsumer.address))])]),e(o.A,{staticClass:"mb-4 grey lighten-5",attrs:{outlined:""}},[e(l.OQ,[e("div",{staticClass:"d-flex justify-space-between"},[e("div",[e("div",{staticClass:"caption grey--text"},[t._v("Previous Reading")]),e("div",{staticClass:"text-h6"},[t._v(t._s(t.getPreviousReading)+" m³")])]),e("div",{staticClass:"text-right"},[e("div",{staticClass:"caption grey--text"},[t._v("Date")]),e("div",{staticClass:"body-2"},[t._v(t._s(t.formatDate(t.getLastReadingDate)))])])])])],1),e(h.A,{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(y.A,{staticClass:"mb-3",attrs:{label:"Current Reading",type:"number",outlined:"",dense:"",rules:t.currentReadingRules,suffix:"m³",readonly:t.isReadOnly},on:{input:t.calculateConsumption},model:{value:t.newReading.currentReading,callback:function(e){t.$set(t.newReading,"currentReading",t._n(e))},expression:"newReading.currentReading"}}),e(o.A,{staticClass:"text-center mb-3 py-2",attrs:{outlined:""}},[e("div",{staticClass:"caption grey--text"},[t._v("Consumption")]),e("div",{staticClass:"text-h5 primary--text font-weight-medium"},[t._v(" "+t._s(t.newReading.consumption)+" m³ ")])]),e(k.A,{staticClass:"mb-3",attrs:{label:"Remarks",outlined:"",dense:"",rows:"2",placeholder:"Add notes here...",readonly:t.isReadOnly},model:{value:t.newReading.remarks,callback:function(e){t.$set(t.newReading,"remarks",e)},expression:"newReading.remarks"}})],1)],1),e(g.A),e(l.SL,{staticClass:"pa-3"},[e(r.A,{attrs:{text:""},on:{click:t.clearSelectedConsumer}},[e(m.A,{attrs:{left:""}},[t._v("mdi-arrow-left")]),t._v(" Back ")],1),e(b.A),t.isEditing&&!t.isReadOnly?[e(r.A,{attrs:{color:"primary",disabled:!t.valid,loading:t.saving},on:{click:t.saveReading}},[e(m.A,{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Update Reading ")],1)]:t.isReadOnly?[e(r.A,{attrs:{text:""},on:{click:t.clearSelectedConsumer}},[e(m.A,{attrs:{left:""}},[t._v("mdi-close")]),t._v(" Close ")],1)]:[e(r.A,{attrs:{color:"primary",disabled:!t.valid,loading:t.saving},on:{click:t.saveReading}},[e(m.A,{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Save Reading ")],1)]],2)],1)]:e(o.A,{attrs:{outlined:""}},t._l(t.getPendingReadings,(function(s){return e(p.A,{key:s._id,staticClass:"reading-list-item"},[e(f.A,[e(i.A,{attrs:{color:"primary lighten-4"}},[e(m.A,{attrs:{color:"primary"}},[t._v("mdi-account")])],1)],1),e(w.pr,[e("div",{staticClass:"d-flex align-center"},[e(w.UZ,{staticClass:"font-weight-medium"},[t._v(" "+t._s(s.firstName)+" "+t._s(s.lastName)+" ")]),e(d.A,{staticClass:"ml-2",attrs:{color:"completed"===s.readingStatus?"success":"warning","x-small":"",label:""}},[t._v(" "+t._s(s.readingStatus)+" ")])],1),e(w.w,{staticClass:"caption"},[t._v(" "+t._s(s.accountNo)+" · "+t._s(s.fullAddress)+" ")])],1),e(v.A,{staticClass:"d-flex align-center"},["completed"===s.readingStatus&&s.hasNewerReading?e(r.A,{staticClass:"mr-2",attrs:{icon:"",small:"",color:"grey"},on:{click:function(e){return e.stopPropagation(),t.viewReading(s)}}},[e(m.A,[t._v("mdi-eye")])],1):t._e(),"completed"!==s.readingStatus||s.hasNewerReading?t._e():e(r.A,{staticClass:"mr-2",attrs:{icon:"",small:"",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.editReading(s)}}},[e(m.A,[t._v("mdi-pencil")])],1),"pending"===s.readingStatus?e(r.A,{attrs:{icon:"",small:""},on:{click:function(e){return e.stopPropagation(),t.selectConsumer(s)}}},[e(m.A,{attrs:{color:"grey"}},[t._v("mdi-chevron-right")])],1):t._e()],1)],1)})),1),e(R.A,{attrs:{color:t.snackbarColor,timeout:3e3,bottom:""},scopedSlots:t._u([{key:"action",fn:function({attrs:s}){return[e(r.A,t._b({attrs:{text:"",small:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarText)+"content> ")])],2)},D=[],x=(s(8111),s(2489),s(116),s(1701),s(3579),s(5353)),B={name:"MeterReading",data:()=>({breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Billing",disabled:!1,href:"/billing"},{text:"Meter Reading",disabled:!0}],billingPeriods:["January 2025","February 2025","March 2025"],selectedBillingPeriod:"February 2025",search:"",selectedConsumer:null,valid:!1,snackbar:!1,snackbarText:"",snackbarColor:"",saving:!1,isEditing:!1,originalReading:null,newReading:{_id:null,consumerId:null,currentReading:null,consumption:0,remarks:"",readingDate:(new Date).toISOString().substr(0,10)}}),computed:{...(0,x.aH)("consumers",["consumers"]),...(0,x.aH)("readings",["readings","loading"]),isReadOnly(){if(!this.selectedConsumer)return!0;const t=new Date(this.selectedBillingPeriod),e=this.readings.filter((t=>t.consumerId._id===this.selectedConsumer._id)).sort(((t,e)=>new Date(e.readingDate)-new Date(t.readingDate)));if(0===e.length)return!1;const s=e.find((e=>{const s=new Date(e.readingDate);return s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()}));if(!s)return!1;const i=e.some((e=>{const s=new Date(e.readingDate);return s.getFullYear()>t.getFullYear()||s.getFullYear()===t.getFullYear()&&s.getMonth()>t.getMonth()}));return i},currentReadingRules(){return[t=>!!t||"Reading is required",t=>t>0||"Reading must be greater than 0",t=>{if(!this.selectedConsumer)return!0;const e=this.getPreviousReading;return t>e||`Must be higher than previous reading (${e})`}]},getTotalConsumers(){return this.consumers.length},getPendingReadings(){const t=new Date(this.selectedBillingPeriod).getMonth(),e=new Date(this.selectedBillingPeriod).getFullYear(),s=(new Date(this.selectedBillingPeriod),new Date(e,t+1,0));return this.consumers.map((i=>{const a=this.readings.find((s=>{const a=new Date(s.readingDate);return s.consumerId._id===i._id&&a.getMonth()===t&&a.getFullYear()===e})),n=this.readings.some((t=>{const e=new Date(t.readingDate);return t.consumerId._id===i._id&&e.getTime()>s.getTime()}));return{...i,readingStatus:a?"completed":"pending",hasNewerReading:n}}))},getPendingConsumers(){const t=new Date(this.selectedBillingPeriod).getMonth(),e=new Date(this.selectedBillingPeriod).getFullYear();return this.consumers.filter((s=>{const i=this.readings.some((i=>{const a=new Date(i.readingDate);return i.consumerId===s._id&&a.getMonth()===t&&a.getFullYear()===e}));return!i}))},getPendingReadingsCount(){return this.getPendingReadings.filter((t=>"pending"===t.readingStatus)).length},getCompletedReadings(){return this.getPendingReadings.filter((t=>"completed"===t.readingStatus)).length},getPreviousReading(){if(!this.selectedConsumer)return 0;const t=new Date(this.selectedBillingPeriod),e=this.readings.filter((e=>{const s=new Date(e.readingDate);return e.consumerId._id===this.selectedConsumer._id&&s<new Date(t.getFullYear(),t.getMonth(),1)})).sort(((t,e)=>new Date(e.readingDate)-new Date(t.readingDate)));return this.isEditing?this.originalReading?.previousReading||0:e[0]?.currentReading||0},getLastReadingDate(){if(!this.selectedConsumer)return null;const t=new Date(this.selectedBillingPeriod),e=this.readings.filter((e=>{const s=new Date(e.readingDate);return e.consumerId._id===this.selectedConsumer._id&&s<new Date(t.getFullYear(),t.getMonth(),1)})).sort(((t,e)=>new Date(e.readingDate)-new Date(t.readingDate)));return e[0]?.readingDate||null}},methods:{...(0,x.i0)("consumers",["fetchConsumers"]),...(0,x.i0)("readings",["fetchReadings","createReading","updateReading"]),getReadingStatusColor(t){return{completed:"success",pending:"warning"}[t]||"grey"},async searchConsumer(){const t=this.consumers.find((t=>t.accountNo===this.search));t?this.selectConsumer(t):this.showSnackbar("Consumer not found","error")},hasExistingReading(t){const e=new Date(this.selectedBillingPeriod).getMonth();return this.readings.some((s=>s.consumerId===t._id&&new Date(s.readingDate).getMonth()===e))},async editReading(t){this.isEditing=!0,this.selectedConsumer=t;const e=new Date(this.selectedBillingPeriod).getMonth(),s=new Date(this.selectedBillingPeriod).getFullYear(),i=this.readings.find((i=>{const a=new Date(i.readingDate);return i.consumerId._id===t._id&&a.getMonth()===e&&a.getFullYear()===s}));i&&(console.log("Found reading:",i),this.originalReading={...i},this.newReading={_id:i._id,consumerId:i.consumerId._id,currentReading:i.currentReading,consumption:i.consumption,remarks:i.remarks||"",readingDate:i.readingDate}),console.log("isEditing:",this.isEditing),console.log("isReadOnly:",this.isReadOnly),this.$nextTick((()=>{this.$refs.form&&this.$refs.form.resetValidation()}))},selectConsumer(t){const e=new Date(this.selectedBillingPeriod).getMonth(),s=this.readings.some((s=>s.consumerId===t._id&&new Date(s.readingDate).getMonth()===e));this.selectedConsumer={...t,readingStatus:s?"completed":"pending"},this.isEditing=!1,this.originalReading=null,this.newReading={consumerId:t._id,currentReading:null,consumption:0,remarks:"",readingDate:(new Date).toISOString().substr(0,10)}},viewReading(t){this.isEditing=!1,this.selectedConsumer=t;const e=new Date(this.selectedBillingPeriod).getMonth(),s=new Date(this.selectedBillingPeriod).getFullYear(),i=this.readings.find((i=>{const a=new Date(i.readingDate);return i.consumerId._id===t._id&&a.getMonth()===e&&a.getFullYear()===s}));i&&(this.newReading={_id:i._id,consumerId:i.consumerId._id,currentReading:i.currentReading,consumption:i.consumption,remarks:i.remarks||"",readingDate:i.readingDate}),this.$nextTick((()=>{this.$refs.form&&this.$refs.form.resetValidation()}))},clearSelectedConsumer(){this.selectedConsumer=null,this.newReading={currentReading:null,consumption:0,remarks:""},this.search="",this.isEditing=!1,this.originalReading=null},calculateConsumption(){this.newReading.currentReading&&this.selectedConsumer&&(this.newReading.consumption=this.newReading.currentReading-this.getPreviousReading)},getStatusColor(t){return{active:"success",inactive:"grey",delinquent:"error"}[t]||"grey"},async saveReading(){if(this.$refs.form.validate()){this.saving=!0;try{const t=(new Date).getDate(),e=new Date(this.selectedBillingPeriod),s=new Date(e.getFullYear(),e.getMonth(),t),i={...this.newReading,previousReading:this.getPreviousReading,readingDate:s.toISOString(),status:"completed",consumerId:this.selectedConsumer._id};this.isEditing?(await this.updateReading({id:this.newReading._id,readingData:i}),this.showSnackbar("Reading updated successfully","success")):(await this.createReading(i),this.showSnackbar("Reading saved successfully","success")),this.clearSelectedConsumer(),await this.fetchReadings()}catch(t){this.showSnackbar(t.message||`Error ${this.isEditing?"updating":"saving"} reading`,"error")}finally{this.saving=!1}}},showSnackbar(t,e){this.snackbarText=t,this.snackbarColor=e,this.snackbar=!0},formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"No previous reading"}},async created(){try{await Promise.all([this.fetchConsumers(),this.fetchReadings()])}catch(t){this.showSnackbar("Error loading data","error")}},watch:{selectedBillingPeriod:{handler(){this.fetchReadings()}}}},P=B,S=s(1656),I=(0,S.A)(P,A,D,!1,null,"03e2d237",null),$=I.exports},174:function(t,e,s){s(4114),s(8111),s(2489),s(116),s(7588);var i=s(5803),a=s(7717),n=s(7540),r=s(4152);e.A=(0,i.A)(a.A,(0,n.G)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",(e=>{this.$set(this.errorBag,t._uid,e)}),{immediate:!0}),s={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?s.shouldValidate=t.$watch("shouldValidate",(i=>{i&&(this.errorBag.hasOwnProperty(t._uid)||(s.valid=e(t)))})):s.valid=e(t),s},validate(){return 0===this.inputs.filter((t=>!t.validate(!0))).length},reset(){this.inputs.forEach((t=>t.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((t=>t.resetValidation())),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find((e=>e._uid===t._uid));if(!e)return;const s=this.watchers.find((t=>t._uid===e._uid));s&&(s.valid(),s.shouldValidate()),this.watchers=this.watchers.filter((t=>t._uid!==e._uid)),this.inputs=this.inputs.filter((t=>t._uid!==e._uid)),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},(0,r.$c)(this))}})},7150:function(t,e,s){s.d(e,{A:function(){return u}});var i=s(8184),a=s(8743),n=s(3381),r=s(428),o=s(6763),l=s(5803),d=s(4152),c=s(6988),u=(0,l.A)(i.A,a.A,r.A,(0,o.P)(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:t=>"string"===typeof t||!1===t},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:n.A.options.computed.isDark.call(this)},styles(){if(this.absolute||!this.app)return{};const{bar:t,bottom:e,footer:s,insetFooter:i,left:a,right:n,top:r}=this.$vuetify.application;return{paddingBottom:(0,d.Dg)(e+s+i),paddingLeft:(0,d.Dg)(a),paddingRight:(0,d.Dg)(n),paddingTop:(0,d.Dg)(t+r)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&(0,c.rq)("auto-height",this),0==this.timeout&&(0,c.CI)('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[(0,d.$c)(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[(0,d.$c)(this)])},genWrapper(){const t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:i.A.options.computed.classes.call(this),style:i.A.options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{pointerenter:()=>window.clearTimeout(this.activeTimeout),pointerleave:this.setTimeout}});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout((()=>{this.isActive=!1}),t))}},render(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},6513:function(t,e,s){s.d(e,{A:function(){return r}});var i=s(7112),a=s(5803);const n=(0,a.A)(i.A);var r=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...i.A.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick((()=>{var e;t?this.calculateInputHeight():null===(e=this.$refs.input)||void 0===e||e.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,s=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(s,e)+"px"},genInput(){const t=i.A.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){i.A.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})}}]);
//# sourceMappingURL=759.51b49b9b.js.map