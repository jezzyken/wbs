{"version":3,"file":"js/759.5cfdbdc7.js","mappings":"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","sources":["webpack://client/./src/views/admin/Readings.vue","webpack://client/src/views/admin/Readings.vue","webpack://client/./src/views/admin/Readings.vue?93b9","webpack://client/./src/views/admin/Readings.vue?8036","webpack://client/../../../src/components/VForm/VForm.ts","webpack://client/../../../src/components/VSnackbar/VSnackbar.ts","webpack://client/../../../src/components/VTextarea/VTextarea.ts"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{staticClass:\"px-2\"},[_c('div',{staticClass:\"mb-4\"},[_c('v-breadcrumbs',{staticClass:\"pa-0\",attrs:{\"items\":_vm.breadcrumbs,\"divider\":\"/\"},scopedSlots:_vm._u([{key:\"item\",fn:function({ item }){return [_c('v-breadcrumbs-item',{staticClass:\"subtitle-2\",attrs:{\"href\":item.href,\"disabled\":item.disabled}},[_vm._v(\" \"+_vm._s(item.text)+\" \")])]}}])}),_c('div',{staticClass:\"d-flex flex-wrap align-center justify-space-between mb-2\"},[_c('h1',{staticClass:\"text-h5 primary--text font-weight-bold\"}),_c('v-chip',{staticClass:\"ml-2\",attrs:{\"color\":\"primary\",\"small\":\"\"}},[_c('v-icon',{attrs:{\"left\":\"\",\"x-small\":\"\"}},[_vm._v(\"mdi-clock-outline\")]),_vm._v(\" \"+_vm._s(_vm.getPendingReadingsCount)+\" Pending \")],1)],1)],1),_c('v-card',{staticClass:\"mb-3\",attrs:{\"outlined\":\"\"}},[_c('v-card-text',{staticClass:\"py-2\"},[_c('v-row',{attrs:{\"align\":\"center\",\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"pr-sm-3\",attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-select',{staticClass:\"billing-period-select\",attrs:{\"items\":_vm.billingPeriods,\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"label\":\"Billing Period\"},model:{value:(_vm.selectedBillingPeriod),callback:function ($$v) {_vm.selectedBillingPeriod=$$v},expression:\"selectedBillingPeriod\"}})],1),_c('v-col',{staticClass:\"mt-3 mt-sm-0\",attrs:{\"cols\":\"12\",\"sm\":\"8\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"text-center stat-box\"},[_c('div',{staticClass:\"overline\"},[_vm._v(\"Total\")]),_c('div',{staticClass:\"text-h6\"},[_vm._v(_vm._s(_vm.getTotalConsumers))])])]),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"text-center stat-box\"},[_c('div',{staticClass:\"overline\"},[_vm._v(\"Completed\")]),_c('div',{staticClass:\"text-h6 success--text\"},[_vm._v(\" \"+_vm._s(_vm.getCompletedReadings)+\" \")])])]),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"text-center stat-box\"},[_c('div',{staticClass:\"overline\"},[_vm._v(\"Pending\")]),_c('div',{staticClass:\"text-h6 error--text\"},[_vm._v(\" \"+_vm._s(_vm.getPendingReadingsCount)+\" \")])])])],1)],1)],1)],1)],1),_c('v-card',{staticClass:\"mb-3\",attrs:{\"outlined\":\"\"}},[_c('v-card-text',{staticClass:\"py-2\"},[_c('v-text-field',{attrs:{\"label\":\"Search Account Number\",\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"clearable\":\"\",\"prepend-inner-icon\":\"mdi-magnify\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.searchConsumer.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-btn',{staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"loading\":_vm.loading,\"small\":\"\"},on:{\"click\":_vm.searchConsumer}},[_vm._v(\" Search \")])]},proxy:true}]),model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)],1),(_vm.selectedConsumer)?[_c('v-card',{staticClass:\"mb-3\",attrs:{\"outlined\":\"\"}},[_c('v-card-text',{staticClass:\"pt-3\"},[_c('div',{staticClass:\"d-flex align-center mb-3\"},[_c('div',{staticClass:\"d-flex align-center flex-grow-1\"},[_c('v-avatar',{staticClass:\"mr-3\",attrs:{\"color\":\"primary lighten-4\",\"size\":\"40\"}},[_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-account\")])],1),_c('div',[_c('div',{staticClass:\"text-subtitle-1 font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.selectedConsumer.firstName)+\" \"+_vm._s(_vm.selectedConsumer.lastName)+\" \")]),_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\" Account: \"+_vm._s(_vm.selectedConsumer.accountNo)+\" \")])])],1),_c('div',{staticClass:\"d-flex align-center\"},[_c('v-chip',{staticClass:\"mr-2\",attrs:{\"color\":_vm.getStatusColor(_vm.selectedConsumer.status),\"x-small\":\"\",\"label\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.selectedConsumer.status)+\" \")]),_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\" \"+_vm._s(_vm.isEditing ? \"Editing Reading\" : \"New Reading\")+\" \")])],1)]),_c('div',{staticClass:\"mb-4\"},[_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\"Address\")]),_c('div',{staticClass:\"body-2\"},[_vm._v(_vm._s(_vm.selectedConsumer.address))])]),_c('v-card',{staticClass:\"mb-4 grey lighten-5\",attrs:{\"outlined\":\"\"}},[_c('v-card-text',[_c('div',{staticClass:\"d-flex justify-space-between\"},[_c('div',[_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\"Previous Reading\")]),_c('div',{staticClass:\"text-h6\"},[_vm._v(_vm._s(_vm.getPreviousReading)+\" m³\")])]),_c('div',{staticClass:\"text-right\"},[_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\"Date\")]),_c('div',{staticClass:\"body-2\"},[_vm._v(_vm._s(_vm.formatDate(_vm.getLastReadingDate)))])])])])],1),_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{staticClass:\"mb-3\",attrs:{\"label\":\"Current Reading\",\"type\":\"number\",\"outlined\":\"\",\"dense\":\"\",\"rules\":_vm.currentReadingRules,\"suffix\":\"m³\",\"readonly\":_vm.isReadOnly},on:{\"input\":_vm.calculateConsumption},model:{value:(_vm.newReading.currentReading),callback:function ($$v) {_vm.$set(_vm.newReading, \"currentReading\", _vm._n($$v))},expression:\"newReading.currentReading\"}}),_c('v-card',{staticClass:\"text-center mb-3 py-2\",attrs:{\"outlined\":\"\"}},[_c('div',{staticClass:\"caption grey--text\"},[_vm._v(\"Consumption\")]),_c('div',{staticClass:\"text-h5 primary--text font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.newReading.consumption)+\" m³ \")])]),_c('v-textarea',{staticClass:\"mb-3\",attrs:{\"label\":\"Remarks\",\"outlined\":\"\",\"dense\":\"\",\"rows\":\"2\",\"placeholder\":\"Add notes here...\",\"readonly\":_vm.isReadOnly},model:{value:(_vm.newReading.remarks),callback:function ($$v) {_vm.$set(_vm.newReading, \"remarks\", $$v)},expression:\"newReading.remarks\"}})],1)],1),_c('v-divider'),_c('v-card-actions',{staticClass:\"pa-3\"},[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.clearSelectedConsumer}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-arrow-left\")]),_vm._v(\" Back \")],1),_c('v-spacer'),(_vm.isEditing && !_vm.isReadOnly)?[_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":!_vm.valid,\"loading\":_vm.saving},on:{\"click\":_vm.saveReading}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-content-save\")]),_vm._v(\" Update Reading \")],1)]:(_vm.isReadOnly)?[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.clearSelectedConsumer}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-close\")]),_vm._v(\" Close \")],1)]:[_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":!_vm.valid,\"loading\":_vm.saving},on:{\"click\":_vm.saveReading}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-content-save\")]),_vm._v(\" Save Reading \")],1)]],2)],1)]:_c('v-card',{attrs:{\"outlined\":\"\"}},_vm._l((_vm.getPendingReadings),function(consumer){return _c('v-list-item',{key:consumer._id,staticClass:\"reading-list-item\"},[_c('v-list-item-avatar',[_c('v-avatar',{attrs:{\"color\":\"primary lighten-4\"}},[_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-account\")])],1)],1),_c('v-list-item-content',[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-list-item-title',{staticClass:\"font-weight-medium\"},[_vm._v(\" \"+_vm._s(consumer.firstName)+\" \"+_vm._s(consumer.lastName)+\" \")]),_c('v-chip',{staticClass:\"ml-2\",attrs:{\"color\":consumer.readingStatus === 'completed' ? 'success' : 'warning',\"x-small\":\"\",\"label\":\"\"}},[_vm._v(\" \"+_vm._s(consumer.readingStatus)+\" \")])],1),_c('v-list-item-subtitle',{staticClass:\"caption\"},[_vm._v(\" \"+_vm._s(consumer.accountNo)+\" · \"+_vm._s(consumer.fullAddress)+\" \")])],1),_c('v-list-item-action',{staticClass:\"d-flex align-center\"},[(\n            consumer.readingStatus === 'completed' && consumer.hasNewerReading\n          )?_c('v-btn',{staticClass:\"mr-2\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.viewReading(consumer)}}},[_c('v-icon',[_vm._v(\"mdi-eye\")])],1):_vm._e(),(\n            consumer.readingStatus === 'completed' &&\n            !consumer.hasNewerReading\n          )?_c('v-btn',{staticClass:\"mr-2\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.editReading(consumer)}}},[_c('v-icon',[_vm._v(\"mdi-pencil\")])],1):_vm._e(),(consumer.readingStatus === 'pending')?_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.selectConsumer(consumer)}}},[_c('v-icon',{attrs:{\"color\":\"grey\"}},[_vm._v(\"mdi-chevron-right\")])],1):_vm._e()],1)],1)}),1),_c('v-snackbar',{attrs:{\"color\":_vm.snackbarColor,\"timeout\":3000,\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"text\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarText)+\"content> \")])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container class=\"px-2\">\n    <div class=\"mb-4\">\n      <v-breadcrumbs :items=\"breadcrumbs\" divider=\"/\" class=\"pa-0\">\n        <template v-slot:item=\"{ item }\">\n          <v-breadcrumbs-item\n            :href=\"item.href\"\n            :disabled=\"item.disabled\"\n            class=\"subtitle-2\"\n          >\n            {{ item.text }}\n          </v-breadcrumbs-item>\n        </template>\n      </v-breadcrumbs>\n\n      <div class=\"d-flex flex-wrap align-center justify-space-between mb-2\">\n        <h1 class=\"text-h5 primary--text font-weight-bold\">\n        </h1>\n        <v-chip color=\"primary\" small class=\"ml-2\">\n          <v-icon left x-small>mdi-clock-outline</v-icon>\n          {{ getPendingReadingsCount }} Pending\n        </v-chip>\n      </div>\n    </div>\n\n    <v-card outlined class=\"mb-3\">\n      <v-card-text class=\"py-2\">\n        <v-row align=\"center\" no-gutters>\n          <v-col cols=\"12\" sm=\"4\" class=\"pr-sm-3\">\n            <v-select\n              v-model=\"selectedBillingPeriod\"\n              :items=\"billingPeriods\"\n              dense\n              outlined\n              hide-details\n              label=\"Billing Period\"\n              class=\"billing-period-select\"\n            ></v-select>\n          </v-col>\n          <v-col cols=\"12\" sm=\"8\" class=\"mt-3 mt-sm-0\">\n            <v-row no-gutters>\n              <v-col cols=\"4\">\n                <div class=\"text-center stat-box\">\n                  <div class=\"overline\">Total</div>\n                  <div class=\"text-h6\">{{ getTotalConsumers }}</div>\n                </div>\n              </v-col>\n              <v-col cols=\"4\">\n                <div class=\"text-center stat-box\">\n                  <div class=\"overline\">Completed</div>\n                  <div class=\"text-h6 success--text\">\n                    {{ getCompletedReadings }}\n                  </div>\n                </div>\n              </v-col>\n              <v-col cols=\"4\">\n                <div class=\"text-center stat-box\">\n                  <div class=\"overline\">Pending</div>\n                  <div class=\"text-h6 error--text\">\n                    {{ getPendingReadingsCount }}\n                  </div>\n                </div>\n              </v-col>\n            </v-row>\n          </v-col>\n        </v-row>\n      </v-card-text>\n    </v-card>\n\n    <v-card outlined class=\"mb-3\">\n      <v-card-text class=\"py-2\">\n        <v-text-field\n          v-model=\"search\"\n          label=\"Search Account Number\"\n          dense\n          outlined\n          hide-details\n          clearable\n          @keyup.enter=\"searchConsumer\"\n          prepend-inner-icon=\"mdi-magnify\"\n        >\n          <template v-slot:append>\n            <v-btn\n              color=\"primary\"\n              @click=\"searchConsumer\"\n              :loading=\"loading\"\n              small\n              class=\"mb-2\"\n            >\n              Search\n            </v-btn>\n          </template>\n        </v-text-field>\n      </v-card-text>\n    </v-card>\n\n    <template v-if=\"selectedConsumer\">\n      <v-card outlined class=\"mb-3\">\n        <v-card-text class=\"pt-3\">\n          <div class=\"d-flex align-center mb-3\">\n            <div class=\"d-flex align-center flex-grow-1\">\n              <v-avatar color=\"primary lighten-4\" size=\"40\" class=\"mr-3\">\n                <v-icon color=\"primary\">mdi-account</v-icon>\n              </v-avatar>\n              <div>\n                <div class=\"text-subtitle-1 font-weight-medium\">\n                  {{ selectedConsumer.firstName }}\n                  {{ selectedConsumer.lastName }}\n                </div>\n                <div class=\"caption grey--text\">\n                  Account: {{ selectedConsumer.accountNo }}\n                </div>\n              </div>\n            </div>\n            <div class=\"d-flex align-center\">\n              <v-chip\n                :color=\"getStatusColor(selectedConsumer.status)\"\n                x-small\n                label\n                class=\"mr-2\"\n              >\n                {{ selectedConsumer.status }}\n              </v-chip>\n              <div class=\"caption grey--text\">\n                {{ isEditing ? \"Editing Reading\" : \"New Reading\" }}\n              </div>\n            </div>\n          </div>\n\n          <div class=\"mb-4\">\n            <div class=\"caption grey--text\">Address</div>\n            <div class=\"body-2\">{{ selectedConsumer.address }}</div>\n          </div>\n\n          <v-card outlined class=\"mb-4 grey lighten-5\">\n            <v-card-text>\n              <div class=\"d-flex justify-space-between\">\n                <div>\n                  <div class=\"caption grey--text\">Previous Reading</div>\n                  <div class=\"text-h6\">{{ getPreviousReading }} m³</div>\n                </div>\n                <div class=\"text-right\">\n                  <div class=\"caption grey--text\">Date</div>\n                  <div class=\"body-2\">{{ formatDate(getLastReadingDate) }}</div>\n                </div>\n              </div>\n            </v-card-text>\n          </v-card>\n          <v-form ref=\"form\" v-model=\"valid\">\n            <v-text-field\n              v-model.number=\"newReading.currentReading\"\n              label=\"Current Reading\"\n              type=\"number\"\n              outlined\n              dense\n              :rules=\"currentReadingRules\"\n              @input=\"calculateConsumption\"\n              suffix=\"m³\"\n              class=\"mb-3\"\n              :readonly=\"isReadOnly\"\n            ></v-text-field>\n\n            <v-card outlined class=\"text-center mb-3 py-2\">\n              <div class=\"caption grey--text\">Consumption</div>\n              <div class=\"text-h5 primary--text font-weight-medium\">\n                {{ newReading.consumption }} m³\n              </div>\n            </v-card>\n\n            <v-textarea\n              v-model=\"newReading.remarks\"\n              label=\"Remarks\"\n              outlined\n              dense\n              rows=\"2\"\n              placeholder=\"Add notes here...\"\n              class=\"mb-3\"\n              :readonly=\"isReadOnly\"\n            ></v-textarea>\n          </v-form>\n        </v-card-text>\n\n        <v-divider></v-divider>\n\n        <v-card-actions class=\"pa-3\">\n          <v-btn text @click=\"clearSelectedConsumer\">\n            <v-icon left>mdi-arrow-left</v-icon>\n            Back\n          </v-btn>\n          <v-spacer></v-spacer>\n\n          <template v-if=\"isEditing && !isReadOnly\">\n            <v-btn\n              color=\"primary\"\n              :disabled=\"!valid\"\n              @click=\"saveReading\"\n              :loading=\"saving\"\n            >\n              <v-icon left>mdi-content-save</v-icon>\n              Update Reading\n            </v-btn>\n          </template>\n\n          <template v-else-if=\"isReadOnly\">\n            <v-btn text @click=\"clearSelectedConsumer\">\n              <v-icon left>mdi-close</v-icon>\n              Close\n            </v-btn>\n          </template>\n\n          <template v-else>\n            <v-btn\n              color=\"primary\"\n              :disabled=\"!valid\"\n              @click=\"saveReading\"\n              :loading=\"saving\"\n            >\n              <v-icon left>mdi-content-save</v-icon>\n              Save Reading\n            </v-btn>\n          </template>\n        </v-card-actions>\n      </v-card>\n    </template>\n\n    <v-card v-else outlined>\n      <v-list-item\n        v-for=\"consumer in getPendingReadings\"\n        :key=\"consumer._id\"\n        class=\"reading-list-item\"\n      >\n        <v-list-item-avatar>\n          <v-avatar color=\"primary lighten-4\">\n            <v-icon color=\"primary\">mdi-account</v-icon>\n          </v-avatar>\n        </v-list-item-avatar>\n\n        <v-list-item-content>\n          <div class=\"d-flex align-center\">\n            <v-list-item-title class=\"font-weight-medium\">\n              {{ consumer.firstName }} {{ consumer.lastName }}\n            </v-list-item-title>\n            <v-chip\n              :color=\"\n                consumer.readingStatus === 'completed' ? 'success' : 'warning'\n              \"\n              x-small\n              label\n              class=\"ml-2\"\n            >\n              {{ consumer.readingStatus }}\n            </v-chip>\n          </div>\n          <v-list-item-subtitle class=\"caption\">\n            {{ consumer.accountNo }} · {{ consumer.fullAddress }}\n          </v-list-item-subtitle>\n        </v-list-item-content>\n\n        <v-list-item-action class=\"d-flex align-center\">\n          <v-btn\n            icon\n            small\n            class=\"mr-2\"\n            @click.stop=\"viewReading(consumer)\"\n            v-if=\"\n              consumer.readingStatus === 'completed' && consumer.hasNewerReading\n            \"\n            color=\"grey\"\n          >\n            <v-icon>mdi-eye</v-icon>\n          </v-btn>\n\n          <v-btn\n            icon\n            small\n            class=\"mr-2\"\n            @click.stop=\"editReading(consumer)\"\n            v-if=\"\n              consumer.readingStatus === 'completed' &&\n              !consumer.hasNewerReading\n            \"\n            color=\"primary\"\n          >\n            <v-icon>mdi-pencil</v-icon>\n          </v-btn>\n\n          <v-btn\n            icon\n            small\n            @click.stop=\"selectConsumer(consumer)\"\n            v-if=\"consumer.readingStatus === 'pending'\"\n          >\n            <v-icon color=\"grey\">mdi-chevron-right</v-icon>\n          </v-btn>\n        </v-list-item-action>\n      </v-list-item>\n    </v-card>\n\n    <v-snackbar\n      v-model=\"snackbar\"\n      :color=\"snackbarColor\"\n      :timeout=\"3000\"\n      bottom\n    >\n      {{ snackbarText }}content>\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn text small v-bind=\"attrs\" @click=\"snackbar = false\">\n          Close\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </v-container>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"MeterReading\",\n\n  data: () => ({\n    breadcrumbs: [\n      {\n        text: \"Home\",\n        disabled: false,\n        href: \"/\",\n      },\n      {\n        text: \"Billing\",\n        disabled: false,\n        href: \"/billing\",\n      },\n      {\n        text: \"Meter Reading\",\n        disabled: true,\n      },\n    ],\n    billingPeriods: [\"January 2025\", \"February 2025\", \"March 2025\"],\n    selectedBillingPeriod: \"February 2025\",\n    search: \"\",\n    selectedConsumer: null,\n    valid: false,\n    snackbar: false,\n    snackbarText: \"\",\n    snackbarColor: \"\",\n    saving: false,\n    isEditing: false,\n    originalReading: null,\n\n    newReading: {\n      _id: null,\n      consumerId: null,\n      currentReading: null,\n      consumption: 0,\n      remarks: \"\",\n      readingDate: new Date().toISOString().substr(0, 10),\n    },\n  }),\n\n  computed: {\n    ...mapState(\"consumers\", [\"consumers\"]),\n    ...mapState(\"readings\", [\"readings\", \"loading\"]),\n\n    isReadOnly() {\n      if (!this.selectedConsumer) return true;\n\n      const selectedPeriod = new Date(this.selectedBillingPeriod);\n\n      // Get all consumer readings sorted by date (newest first)\n      const consumerReadings = this.readings\n        .filter((r) => r.consumerId._id === this.selectedConsumer._id)\n        .sort((a, b) => new Date(b.readingDate) - new Date(a.readingDate));\n\n      // If no readings, then it's not read-only\n      if (consumerReadings.length === 0) return false;\n\n      // Get the reading for the selected period\n      const selectedPeriodReading = consumerReadings.find((reading) => {\n        const readingDate = new Date(reading.readingDate);\n        return (\n          readingDate.getFullYear() === selectedPeriod.getFullYear() &&\n          readingDate.getMonth() === selectedPeriod.getMonth()\n        );\n      });\n\n      // If no reading exists for selected period, it's editable\n      if (!selectedPeriodReading) return false;\n\n      // Check if there are any readings from future periods\n      const hasNewerReading = consumerReadings.some((reading) => {\n        const readingDate = new Date(reading.readingDate);\n        return (\n          readingDate.getFullYear() > selectedPeriod.getFullYear() ||\n          (readingDate.getFullYear() === selectedPeriod.getFullYear() &&\n            readingDate.getMonth() > selectedPeriod.getMonth())\n        );\n      });\n\n      // Return true (read-only) only if viewing an old reading that has newer readings\n      return hasNewerReading;\n    },\n    currentReadingRules() {\n      return [\n        (v) => !!v || \"Reading is required\",\n        (v) => v > 0 || \"Reading must be greater than 0\",\n        (v) => {\n          if (!this.selectedConsumer) return true;\n          const prevReading = this.getPreviousReading;\n          return (\n            v > prevReading ||\n            `Must be higher than previous reading (${prevReading})`\n          );\n        },\n      ];\n    },\n\n    getTotalConsumers() {\n      return this.consumers.length;\n    },\n\n    getPendingReadings() {\n      const currentMonth = new Date(this.selectedBillingPeriod).getMonth();\n      const currentYear = new Date(this.selectedBillingPeriod).getFullYear();\n      const selectedPeriod = new Date(this.selectedBillingPeriod);\n      // Get end of selected month\n      const endOfMonth = new Date(currentYear, currentMonth + 1, 0);\n\n      return this.consumers.map((consumer) => {\n        const reading = this.readings.find((r) => {\n          const readingDate = new Date(r.readingDate);\n          return (\n            r.consumerId._id === consumer._id &&\n            readingDate.getMonth() === currentMonth &&\n            readingDate.getFullYear() === currentYear\n          );\n        });\n\n        const hasNewerReading = this.readings.some((r) => {\n          const readingDate = new Date(r.readingDate);\n          return (\n            r.consumerId._id === consumer._id &&\n            readingDate.getTime() > endOfMonth.getTime()\n          );\n        });\n\n        return {\n          ...consumer,\n          readingStatus: reading ? \"completed\" : \"pending\",\n          hasNewerReading,\n        };\n      });\n    },\n    getPendingConsumers() {\n      const currentMonth = new Date(this.selectedBillingPeriod).getMonth();\n      const currentYear = new Date(this.selectedBillingPeriod).getFullYear();\n\n      return this.consumers.filter((consumer) => {\n        const hasReadingThisMonth = this.readings.some((reading) => {\n          const readingDate = new Date(reading.readingDate);\n          return (\n            reading.consumerId === consumer._id &&\n            readingDate.getMonth() === currentMonth &&\n            readingDate.getFullYear() === currentYear\n          );\n        });\n\n        return !hasReadingThisMonth;\n      });\n    },\n\n    getPendingReadingsCount() {\n      return this.getPendingReadings.filter(\n        (c) => c.readingStatus === \"pending\"\n      ).length;\n    },\n\n    getCompletedReadings() {\n      return this.getPendingReadings.filter(\n        (c) => c.readingStatus === \"completed\"\n      ).length;\n    },\n\n    getPreviousReading() {\n      if (!this.selectedConsumer) return 0;\n\n      const billingDate = new Date(this.selectedBillingPeriod);\n\n      const consumerReadings = this.readings\n        .filter((r) => {\n          const readingDate = new Date(r.readingDate);\n          return (\n            r.consumerId._id === this.selectedConsumer._id &&\n            readingDate <\n              new Date(billingDate.getFullYear(), billingDate.getMonth(), 1)\n          );\n        })\n        .sort((a, b) => new Date(b.readingDate) - new Date(a.readingDate));\n\n      return this.isEditing\n        ? this.originalReading?.previousReading || 0\n        : consumerReadings[0]?.currentReading || 0;\n    },\n\n    getLastReadingDate() {\n      if (!this.selectedConsumer) return null;\n\n      const billingDate = new Date(this.selectedBillingPeriod);\n\n      const consumerReadings = this.readings\n        .filter((r) => {\n          const readingDate = new Date(r.readingDate);\n          return (\n            r.consumerId._id === this.selectedConsumer._id &&\n            readingDate <\n              new Date(billingDate.getFullYear(), billingDate.getMonth(), 1)\n          );\n        })\n        .sort((a, b) => new Date(b.readingDate) - new Date(a.readingDate));\n\n      return consumerReadings[0]?.readingDate || null;\n    },\n  },\n\n  methods: {\n    ...mapActions(\"consumers\", [\"fetchConsumers\"]),\n    ...mapActions(\"readings\", [\n      \"fetchReadings\",\n      \"createReading\",\n      \"updateReading\",\n    ]),\n\n    getReadingStatusColor(status) {\n      return (\n        {\n          completed: \"success\",\n          pending: \"warning\",\n        }[status] || \"grey\"\n      );\n    },\n\n    async searchConsumer() {\n      const found = this.consumers.find((c) => c.accountNo === this.search);\n      if (found) {\n        this.selectConsumer(found);\n      } else {\n        this.showSnackbar(\"Consumer not found\", \"error\");\n      }\n    },\n\n    hasExistingReading(consumer) {\n      const currentMonth = new Date(this.selectedBillingPeriod).getMonth();\n      return this.readings.some(\n        (reading) =>\n          reading.consumerId === consumer._id &&\n          new Date(reading.readingDate).getMonth() === currentMonth\n      );\n    },\n\n    async editReading(consumer) {\n      this.isEditing = true; // Make sure this is set\n      this.selectedConsumer = consumer;\n\n      const currentMonth = new Date(this.selectedBillingPeriod).getMonth();\n      const currentYear = new Date(this.selectedBillingPeriod).getFullYear();\n\n      const reading = this.readings.find((r) => {\n        const readingDate = new Date(r.readingDate);\n        return (\n          r.consumerId._id === consumer._id &&\n          readingDate.getMonth() === currentMonth &&\n          readingDate.getFullYear() === currentYear\n        );\n      });\n\n      if (reading) {\n        console.log(\"Found reading:\", reading); // Add debug log\n        this.originalReading = { ...reading };\n        this.newReading = {\n          _id: reading._id,\n          consumerId: reading.consumerId._id,\n          currentReading: reading.currentReading,\n          consumption: reading.consumption,\n          remarks: reading.remarks || \"\",\n          readingDate: reading.readingDate,\n        };\n      }\n\n      // Add debug logs\n      console.log(\"isEditing:\", this.isEditing);\n      console.log(\"isReadOnly:\", this.isReadOnly);\n\n      this.$nextTick(() => {\n        if (this.$refs.form) {\n          this.$refs.form.resetValidation();\n        }\n      });\n    },\n\n    selectConsumer(consumer) {\n      const currentMonth = new Date(this.selectedBillingPeriod).getMonth();\n      const hasReadingThisMonth = this.readings.some(\n        (reading) =>\n          reading.consumerId === consumer._id &&\n          new Date(reading.readingDate).getMonth() === currentMonth\n      );\n\n      this.selectedConsumer = {\n        ...consumer,\n        readingStatus: hasReadingThisMonth ? \"completed\" : \"pending\",\n      };\n      this.isEditing = false;\n      this.originalReading = null;\n      this.newReading = {\n        consumerId: consumer._id,\n        currentReading: null,\n        consumption: 0,\n        remarks: \"\",\n        readingDate: new Date().toISOString().substr(0, 10),\n      };\n    },\n\n    viewReading(consumer) {\n      this.isEditing = false;\n      this.selectedConsumer = consumer;\n\n      const currentMonth = new Date(this.selectedBillingPeriod).getMonth();\n      const currentYear = new Date(this.selectedBillingPeriod).getFullYear();\n\n      const reading = this.readings.find((r) => {\n        const readingDate = new Date(r.readingDate);\n        return (\n          r.consumerId._id === consumer._id &&\n          readingDate.getMonth() === currentMonth &&\n          readingDate.getFullYear() === currentYear\n        );\n      });\n\n      if (reading) {\n        this.newReading = {\n          _id: reading._id,\n          consumerId: reading.consumerId._id,\n          currentReading: reading.currentReading,\n          consumption: reading.consumption,\n          remarks: reading.remarks || \"\",\n          readingDate: reading.readingDate,\n        };\n      }\n\n      this.$nextTick(() => {\n        if (this.$refs.form) {\n          this.$refs.form.resetValidation();\n        }\n      });\n    },\n\n    clearSelectedConsumer() {\n      this.selectedConsumer = null;\n      this.newReading = {\n        currentReading: null,\n        consumption: 0,\n        remarks: \"\",\n      };\n      this.search = \"\";\n      this.isEditing = false;\n      this.originalReading = null;\n    },\n\n    calculateConsumption() {\n      if (this.newReading.currentReading && this.selectedConsumer) {\n        this.newReading.consumption =\n          this.newReading.currentReading - this.getPreviousReading;\n      }\n    },\n\n    getStatusColor(status) {\n      return (\n        {\n          active: \"success\",\n          inactive: \"grey\",\n          delinquent: \"error\",\n        }[status] || \"grey\"\n      );\n    },\n\n    async saveReading() {\n      if (!this.$refs.form.validate()) return;\n\n      this.saving = true;\n      try {\n        const currentDay = new Date().getDate();\n\n        const billingDate = new Date(this.selectedBillingPeriod);\n        const readingDate = new Date(\n          billingDate.getFullYear(),\n          billingDate.getMonth(),\n          currentDay\n        );\n\n        const readingData = {\n          ...this.newReading,\n          previousReading: this.getPreviousReading,\n          readingDate: readingDate.toISOString(),\n          status: \"completed\",\n          consumerId: this.selectedConsumer._id,\n        };\n\n        if (this.isEditing) {\n          await this.updateReading({\n            id: this.newReading._id,\n            readingData,\n          });\n          this.showSnackbar(\"Reading updated successfully\", \"success\");\n        } else {\n          await this.createReading(readingData);\n          this.showSnackbar(\"Reading saved successfully\", \"success\");\n        }\n\n        this.clearSelectedConsumer();\n        await this.fetchReadings();\n      } catch (error) {\n        this.showSnackbar(\n          error.message ||\n            `Error ${this.isEditing ? \"updating\" : \"saving\"} reading`,\n          \"error\"\n        );\n      } finally {\n        this.saving = false;\n      }\n    },\n\n    showSnackbar(text, color) {\n      this.snackbarText = text;\n      this.snackbarColor = color;\n      this.snackbar = true;\n    },\n\n    formatDate(date) {\n      if (!date) return \"No previous reading\";\n      return new Date(date).toLocaleDateString(\"en-US\", {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n      });\n    },\n  },\n\n  async created() {\n    try {\n      await Promise.all([this.fetchConsumers(), this.fetchReadings()]);\n    } catch (error) {\n      this.showSnackbar(\"Error loading data\", \"error\");\n    }\n  },\n\n  watch: {\n    selectedBillingPeriod: {\n      handler() {\n        this.fetchReadings();\n      },\n    },\n  },\n};\n</script>\n\n<style scoped>\n.stat-box {\n  padding: 8px;\n}\n\n.reading-list-item {\n  border-bottom: 1px solid #f5f5f5;\n}\n\n.reading-list-item:last-child {\n  border-bottom: none;\n}\n\n.billing-period-select {\n  max-width: 200px;\n}\n\n@media (max-width: 600px) {\n  .container {\n    padding: 12px !important;\n  }\n\n  .v-card {\n    border-radius: 8px;\n  }\n\n  .stat-box {\n    padding: 12px 4px;\n  }\n\n  .text-h5 {\n    font-size: 1.25rem !important;\n  }\n\n  .text-h6 {\n    font-size: 1.15rem !important;\n  }\n}\n\n@media (min-width: 601px) {\n  .container {\n    max-width: 1200px;\n  }\n}\n\n.reading-form-section {\n  background-color: #f8f9fa;\n  border-radius: 4px;\n  padding: 16px;\n}\n\n.consumption-display {\n  transition: all 0.3s ease;\n}\n\n.consumption-display:hover {\n  transform: scale(1.02);\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Readings.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Readings.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Readings.vue?vue&type=template&id=03e2d237&scoped=true\"\nimport script from \"./Readings.vue?vue&type=script&lang=js\"\nexport * from \"./Readings.vue?vue&type=script&lang=js\"\nimport style0 from \"./Readings.vue?vue&type=style&index=0&id=03e2d237&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03e2d237\",\n  null\n  \n)\n\nexport default component.exports","// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\nimport { getSlot } from '../../util/helpers'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, getSlot(this))\n  },\n})\n","// Styles\nimport './VSnackbar.sass'\n\n// Components\nimport VSheet from '../VSheet/VSheet'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\nimport Toggleable from '../../mixins/toggleable'\nimport { factory as PositionableFactory } from '../../mixins/positionable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport { deprecate, removed } from '../../util/console'\n\n// Types\nimport { PropType, VNode } from 'vue'\n\nexport default mixins(\n  VSheet,\n  Colorable,\n  Toggleable,\n  PositionableFactory([\n    'absolute',\n    'bottom',\n    'left',\n    'right',\n    'top',\n  ])\n/* @vue/component */\n).extend({\n  name: 'v-snackbar',\n\n  props: {\n    app: Boolean,\n    centered: Boolean,\n    contentClass: {\n      type: String,\n      default: '',\n    },\n    multiLine: Boolean,\n    text: Boolean,\n    timeout: {\n      type: [Number, String],\n      default: 5000,\n    },\n    transition: {\n      type: [Boolean, String] as PropType<false | string>,\n      default: 'v-snack-transition',\n      validator: v => typeof v === 'string' || v === false,\n    },\n    vertical: Boolean,\n  },\n\n  data: () => ({\n    activeTimeout: -1,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-snack--absolute': this.absolute,\n        'v-snack--active': this.isActive,\n        'v-snack--bottom': this.bottom || !this.top,\n        'v-snack--centered': this.centered,\n        'v-snack--has-background': this.hasBackground,\n        'v-snack--left': this.left,\n        'v-snack--multi-line': this.multiLine && !this.vertical,\n        'v-snack--right': this.right,\n        'v-snack--text': this.text,\n        'v-snack--top': this.top,\n        'v-snack--vertical': this.vertical,\n      }\n    },\n    // Text and outlined styles both\n    // use transparent backgrounds\n    hasBackground (): boolean {\n      return (\n        !this.text &&\n        !this.outlined\n      )\n    },\n    // Snackbar is dark by default\n    // override themeable logic.\n    isDark (): boolean {\n      return this.hasBackground\n        ? !this.light\n        : Themeable.options.computed.isDark.call(this)\n    },\n    styles (): object {\n      if (this.absolute || !this.app) return {}\n\n      const {\n        bar,\n        bottom,\n        footer,\n        insetFooter,\n        left,\n        right,\n        top,\n      } = this.$vuetify.application\n\n      return {\n        paddingBottom: convertToUnit(bottom + footer + insetFooter),\n        paddingLeft: convertToUnit(left),\n        paddingRight: convertToUnit(right),\n        paddingTop: convertToUnit(bar + top),\n      }\n    },\n  },\n\n  watch: {\n    isActive: 'setTimeout',\n    timeout: 'setTimeout',\n  },\n\n  mounted () {\n    if (this.isActive) this.setTimeout()\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('auto-height')) {\n      removed('auto-height', this)\n    }\n\n    /* istanbul ignore next */\n    // eslint-disable-next-line eqeqeq\n    if (this.timeout == 0) {\n      deprecate('timeout=\"0\"', '-1', this)\n    }\n  },\n\n  methods: {\n    genActions () {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__action ',\n      }, [\n        getSlot(this, 'action', {\n          attrs: { class: 'v-snack__btn' },\n        }),\n      ])\n    },\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__content',\n        class: {\n          [this.contentClass]: true,\n        },\n        attrs: {\n          role: 'status',\n          'aria-live': 'polite',\n        },\n      }, [getSlot(this)])\n    },\n    genWrapper () {\n      const setColor = this.hasBackground\n        ? this.setBackgroundColor\n        : this.setTextColor\n\n      const data = setColor(this.color, {\n        staticClass: 'v-snack__wrapper',\n        class: VSheet.options.computed.classes.call(this),\n        style: VSheet.options.computed.styles.call(this),\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n        on: {\n          pointerenter: () => window.clearTimeout(this.activeTimeout),\n          pointerleave: this.setTimeout,\n        },\n      })\n\n      return this.$createElement('div', data, [\n        this.genContent(),\n        this.genActions(),\n      ])\n    },\n    genTransition () {\n      return this.$createElement('transition', {\n        props: { name: this.transition },\n      }, [this.genWrapper()])\n    },\n    setTimeout () {\n      window.clearTimeout(this.activeTimeout)\n\n      const timeout = Number(this.timeout)\n\n      if (\n        !this.isActive ||\n        // TODO: remove 0 in v3\n        [0, -1].includes(timeout)\n      ) {\n        return\n      }\n\n      this.activeTimeout = window.setTimeout(() => {\n        this.isActive = false\n      }, timeout)\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-snack',\n      class: this.classes,\n      style: this.styles,\n    }, [\n      this.transition !== false\n        ? this.genTransition()\n        : this.genWrapper(),\n    ])\n  },\n})\n","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    autoGrow (val: boolean) {\n      this.$nextTick(() => {\n        val\n          ? this.calculateInputHeight()\n          : this.$refs.input?.style.removeProperty('height')\n      })\n    },\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n"],"names":["_c","staticClass","attrs","_vm","model","callback","_s","_v","on","$event","scopedSlots","fn","proxy","value","expression","ref","valid","currentReadingRules","isReadOnly","newReading","currentReading","$set","remarks","$$v","clearSelectedConsumer","saving","saveReading","key","consumer","readingStatus","stopPropagation","selectConsumer","snackbar","staticRenderFns","render","name","data","breadcrumbs","text","disabled","href","billingPeriods","selectedBillingPeriod","search","selectedConsumer","snackbarText","snackbarColor","isEditing","originalReading","_id","consumerId","consumption","readingDate","Date","toISOString","substr","computed","mapState","selectedPeriod","consumerReadings","readings","filter","r","sort","a","b","length","selectedPeriodReading","find","reading","getFullYear","getMonth","hasNewerReading","some","v","prevReading","getPreviousReading","getTotalConsumers","consumers","getPendingReadings","currentMonth","currentYear","endOfMonth","map","getTime","getPendingConsumers","hasReadingThisMonth","getPendingReadingsCount","c","getCompletedReadings","billingDate","previousReading","getLastReadingDate","methods","mapActions","getReadingStatusColor","status","completed","pending","searchConsumer","found","accountNo","showSnackbar","hasExistingReading","editReading","console","log","$nextTick","$refs","form","resetValidation","viewReading","calculateConsumption","getStatusColor","active","inactive","delinquent","validate","currentDay","getDate","readingData","updateReading","id","createReading","fetchReadings","error","message","color","formatDate","date","toLocaleDateString","year","month","day","created","Promise","all","fetchConsumers","watch","handler","component","mixins","BindsAttrs","RegistrableProvide","extend","provide","this","inheritAttrs","props","Boolean","lazyValidation","readonly","inputs","watchers","errorBag","val","errors","Object","values","includes","$emit","deep","immediate","watchInput","input","watcher","$watch","_uid","shouldValidate","hasOwnProperty","reset","forEach","resetErrorBag","setTimeout","register","push","unregister","i","unwatch","$delete","h","novalidate","attrs$","submit","e","getSlot","VSheet","Colorable","Toggleable","PositionableFactory","app","centered","contentClass","type","String","default","multiLine","timeout","Number","transition","validator","vertical","activeTimeout","classes","absolute","isActive","bottom","top","hasBackground","left","right","outlined","isDark","light","Themeable","options","call","styles","bar","footer","insetFooter","$vuetify","application","paddingBottom","convertToUnit","paddingLeft","paddingRight","paddingTop","mounted","$attrs","removed","deprecate","genActions","$createElement","class","genContent","role","genWrapper","setColor","setBackgroundColor","setTextColor","style","directives","pointerenter","window","clearTimeout","pointerleave","genTransition","baseMixins","VTextField","autoGrow","noResize","rowHeight","isNaN","parseFloat","rows","parseInt","noResizeHandle","calculateInputHeight","_a","removeProperty","lazyValue","height","scrollHeight","minHeight","Math","max","genInput","tag","onInput","onKeyDown","isFocused","keyCode"],"sourceRoot":""}