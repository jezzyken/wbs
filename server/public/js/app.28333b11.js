(function(){var t={8362:function(t,e,a){"use strict";var n=a(4335);console.log({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_URL);const s=n.A.create({baseURL:"http://localhost:3000/api",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});s.interceptors.request.use((t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t}),(t=>Promise.reject(t))),e.A=s},9081:function(t,e,a){"use strict";var n=a(5471),s=a(5668),r=function(){var t=this,e=t._self._c;return e(s.A,[e("router-view"),t.isLoading?e("div",{staticClass:"global-loader"},[e("div",{staticClass:"loader-spinner"})]):t._e(),t.notification.show?e("div",{class:["notification",`notification-${t.notification.type}`]},[t._v(" "+t._s(t.notification.message)+" "),e("button",{staticClass:"notification-close",on:{click:t.closeNotification}},[t._v("×")])]):t._e()],1)},i=[],o=a(5353),c={name:"App",data(){return{notification:{show:!1,message:"",type:"info",timeout:null},isLoading:!1}},computed:{...(0,o.aH)({isLoading:t=>t.app.isLoading,isAuthenticated:t=>t.auth.isAuthenticated})},created(){this.$root.$on("show-notification",this.showNotification),this.checkAuth()},beforeDestroy(){this.$root.$off("show-notification",this.showNotification),this.notification.timeout&&clearTimeout(this.notification.timeout)},methods:{async checkAuth(){try{const t=localStorage.getItem("token");t&&await this.$store.dispatch("auth/validateToken",t)}catch(t){console.error("Auth check failed:",t)}},showNotification({message:t,type:e="info",duration:a=5e3}){this.notification.timeout&&clearTimeout(this.notification.timeout),this.notification={show:!0,message:t,type:e,timeout:setTimeout((()=>{this.closeNotification()}),a)}},closeNotification(){this.notification.show=!1,this.notification.timeout&&clearTimeout(this.notification.timeout)}}},l=c,u=a(1656),d=(0,u.A)(l,r,i,!1,null,null,null),m=d.exports,E=a(3723);(0,E.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});a(8111),a(3579);var h=a(173),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"admin-layout"},[e("header",{staticClass:"gov-header"},[e("span",[t._v(t._s(t.localDate))]),t._v(" • "),e("span",[t._v(t._s(t.localTime))])]),e("header",{staticClass:"main-header"},[e("div",{staticClass:"header-content"},[e("div",{staticClass:"logo-section"},[e("img",{attrs:{src:a(4785),alt:"Logo",height:"80"}}),t._m(0)])])]),e("nav",{staticClass:"nav-bar"},[e("div",{staticClass:"nav-content"},[e("ul",{staticClass:"nav-links"},t._l(t.menuItems,(function(a){return e("li",{key:a.text},[e("router-link",{class:{active:t.isActiveRoute(a.link)},attrs:{to:a.link}},[t._v(" "+t._s(a.text)+" ")])],1)})),0),e("div",{staticClass:"user-section"},[e("span",[t._v("Welcome, "+t._s(t.userName))]),e("button",{staticClass:"btn btn-outline",on:{click:t.handleLogout}},[t._v("Logout")])])])]),e("main",{staticClass:"main-container"},[e("router-view")],1)])},R=[function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"logo-text"},[t._v("SITIO BASAC WATER DISTRICT")]),e("div",{staticClass:"logo-subtext"},[t._v("Malandag Malungon Sarangani Province")])])}],_=(a(4114),{name:"AdminLayout",data(){return{menuItems:[{text:"Dashboard",link:"/admin/dashboard"},{text:"Consumer Records",link:"/admin/consumers",children:[{text:"Add Consumer",link:"/admin/consumers/add"},{text:"View Consumers",link:"/admin/consumers/view"},{text:"Consumer Categories",link:"/admin/consumers/categories"}]},{text:"Billing",link:"/admin/billing"},{text:"Readings",link:"/admin/readings"},{text:"Expenses",link:"/admin/expenses"},{text:"Users",link:"/admin/users"},{text:"Reports",link:"/admin/reports"}],localDate:"",localTime:"",timer:null,userName:"Administrator"}},created(){this.updateDateTime(),this.timer=setInterval(this.updateDateTime,1e3)},beforeDestroy(){this.timer&&clearInterval(this.timer)},methods:{updateDateTime(){const t=new Date;this.localDate=t.toLocaleDateString("en-PH",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.localTime=t.toLocaleTimeString("en-PH",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})},isActiveRoute(t){return this.$route.path===t},async handleLogout(){try{await this.$store.dispatch("auth/logout"),this.$router.push("/login")}catch(t){console.error("Logout failed:",t)}}}}),S=_,T=(0,u.A)(S,f,R,!1,null,"0205427f",null),g=T.exports,p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"public-layout"},[e("header",{staticClass:"gov-header"},[e("span",[t._v(t._s(t.localDate))]),t._v(" • "),e("span",[t._v(t._s(t.localTime))])]),e("header",{staticClass:"main-header"},[e("div",{staticClass:"header-content"},[e("div",{staticClass:"logo-section"},[e("img",{attrs:{src:a(4785),alt:"Logo",height:"80"}}),t._m(0)]),e("nav",{staticClass:"public-nav"},[e("ul",{staticClass:"nav-links"},t._l(t.menuItems,(function(a){return e("li",{key:a.text},[e("router-link",{class:{active:t.isActiveRoute(a.link)},attrs:{to:a.link}},[t._v(" "+t._s(a.text)+" ")])],1)})),0),e("button",{staticClass:"btn btn-primary",on:{click:t.handleAuthButton}},[t._v(" "+t._s(t.isAuthenticated?"Dashboard":"Login")+" ")])])])]),e("main",{staticClass:"public-main"},[e("router-view")],1),e("footer",{staticClass:"public-footer"},[e("div",{staticClass:"footer-content"},[e("div",{staticClass:"footer-grid"},[t._m(1),e("div",{staticClass:"footer-section"},[e("h3",[t._v("Quick Links")]),e("ul",[e("li",[e("router-link",{attrs:{to:"/bill-inquiry"}},[t._v("Bill Inquiry")])],1)])]),t._m(2)]),e("div",{staticClass:"footer-bottom"},[e("p",[t._v(" © "+t._s(t.currentYear)+" Sitio Basac Water District. All rights reserved. ")])])])])])},y=[function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"logo-text"},[t._v("SITIO BASAC WATER DISTRICT")]),e("div",{staticClass:"logo-subtext"},[t._v("Malandag Malungon Sarangani Province")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer-section"},[e("h3",[t._v("Contact Us")]),e("p",[t._v("Sitio Basac, Malandag")]),e("p",[t._v("Malungon, Sarangani Province")]),e("p",[t._v("Phone: (123) 456-7890")]),e("p",[t._v("Email: info@sitiobasacwd.gov.ph")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer-section"},[e("h3",[t._v("Office Hours")]),e("p",[t._v("Monday - Friday: 8:00 AM - 5:00 PM")]),e("p",[t._v("Saturday: 8:00 AM - 12:00 PM")]),e("p",[t._v("Sunday: Closed")])])}],A={name:"PublicLayout",data(){return{menuItems:[{text:"Home",link:"/"},{text:"Bill Inquiry",link:"/bill-inquiry"}],localDate:"",localTime:"",timer:null}},computed:{...(0,o.L8)("auth",["isAuthenticated"]),...(0,o.aH)("auth",["user"]),currentYear(){return(new Date).getFullYear()}},created(){this.updateDateTime(),this.timer=setInterval(this.updateDateTime,1e3)},beforeDestroy(){this.timer&&clearInterval(this.timer)},methods:{updateDateTime(){const t=new Date;this.localDate=t.toLocaleDateString("en-PH",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.localTime=t.toLocaleTimeString("en-PH",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})},isActiveRoute(t){return this.$route.path===t},navigateToLogin(){this.$router.push("/login")},handleAuthButton(){if(this.isAuthenticated){const t={admin:"/admin/dashboard",meter_reader:"/meter-reader/dashboard",collection_officer:"/collection/dashboard"},e=t[this.user?.role]||"/admin/dashboard";this.$router.push(e)}else this.$router.push("/login")}}},O=A,v=(0,u.A)(O,p,y,!1,null,"a87bdb54",null),N=v.exports;a(7588);n.Ay.use(o.Ay);const w=new o.Ay.Store({}),I=a(8043);I.keys().forEach((t=>{const e=t.replace(/(\.\/|\.js)/g,"");w.registerModule(e,I(t).default)}));var L=w;n.Ay.use(h.Ay);const b=[{path:"/",component:N,children:[{path:"",name:"Home",component:()=>a.e(826).then(a.bind(a,6826))},{path:"bill-inquiry",name:"BillInquiry",component:()=>Promise.all([a.e(93),a.e(767)]).then(a.bind(a,3767))},{path:"contact",name:"ContactUs",component:()=>a.e(78).then(a.bind(a,2078))},{path:"annoucements",name:"Annoucements",component:()=>a.e(214).then(a.bind(a,6214))}]},{path:"/admin",component:g,meta:{requiresAuth:!0},children:[{path:"",redirect:"dashboard"},{path:"dashboard",name:"Dashboard",component:()=>Promise.all([a.e(416),a.e(444)]).then(a.bind(a,1444))},{path:"consumers",name:"ConsumerRecords",component:()=>Promise.all([a.e(416),a.e(112),a.e(392),a.e(64),a.e(622),a.e(684)]).then(a.bind(a,4684))},{path:"billing",name:"Billing",component:()=>Promise.all([a.e(416),a.e(112),a.e(392),a.e(64),a.e(93),a.e(7)]).then(a.bind(a,1044))},{path:"payments",name:"Payments",component:()=>Promise.all([a.e(416),a.e(112),a.e(437)]).then(a.bind(a,6437)),props:!0},{path:"readings",name:"Readings",component:()=>Promise.all([a.e(416),a.e(112),a.e(392),a.e(759)]).then(a.bind(a,6552))},{path:"users",name:"Users",component:()=>Promise.all([a.e(416),a.e(112),a.e(392),a.e(64),a.e(622),a.e(928)]).then(a.bind(a,3928))},{path:"expenses",name:"Expenses",component:()=>Promise.all([a.e(416),a.e(112),a.e(392),a.e(64),a.e(93),a.e(622),a.e(408)]).then(a.bind(a,8408))},{path:"reports",name:"Reports",component:()=>a.e(478).then(a.bind(a,5478))},{path:"settings",name:"Settings",component:()=>a.e(49).then(a.bind(a,3049))}]},{path:"/login",name:"Login",component:()=>a.e(648).then(a.bind(a,6648))}],D=new h.Ay({mode:"history",base:"/",routes:b});D.beforeEach(((t,e,a)=>{if("/login"!==t.path)if(t.matched.some((t=>t.meta.requiresAuth)))if(L.getters["auth/isAuthenticated"]){const e=L.getters["auth/userRole"];t.meta.roles&&!t.meta.roles.includes(e)?a("/unauthorized"):a()}else a({path:"/login",query:{redirect:t.fullPath}});else a();else L.getters["auth/isAuthenticated"]?a("/admin/dashboard"):a()}));var C=D,G=a(3971);n.Ay.use(G.A);var P=new G.A({theme:{themes:{light:{primary:"#003875",secondary:"#1a4c7c",accent:"#c8102e",success:"#28a745",warning:"#ffc107",danger:"#dc3545",background:"#f5f7fa",border:"#dee2e6"}},options:{customProperties:!0}}});n.Ay.config.productionTip=!1,new n.Ay({router:C,store:L,vuetify:P,render:t=>t(m)}).$mount("#app")},8985:function(t,e,a){"use strict";a.r(e);var n=a(8362);e["default"]={namespaced:!0,state:{user:JSON.parse(localStorage.getItem("user")),token:localStorage.getItem("token"),loading:!1,error:null},mutations:{SET_USER(t,e){t.user=e},SET_TOKEN(t,e){t.token=e,e?(localStorage.setItem("token",e),n.A.defaults.headers.common["Authorization"]=`Bearer ${e}`):(localStorage.removeItem("token"),delete n.A.defaults.headers.common["Authorization"])},SET_LOADING(t,e){t.loading=e},SET_ERROR(t,e){t.error=e}},actions:{async login({commit:t},e){t("SET_LOADING",!0);try{const{data:a}=await n.A.post("/auths/login",e);return t("SET_USER",a.user),t("SET_TOKEN",a.token),t("SET_ERROR",null),a.user}catch(a){throw t("SET_ERROR",a.response?.data?.error||"Login failed"),a}finally{t("SET_LOADING",!1)}},async verifyToken({commit:t}){const e=localStorage.getItem("token");if(!e)return null;try{n.A.defaults.headers.common["Authorization"]=`Bearer ${e}`;const{data:a}=await n.A.post("/auths/verify-token");return t("SET_USER",a.user),t("SET_TOKEN",e),a.user}catch(a){throw t("SET_USER",null),t("SET_TOKEN",null),a}},logout({commit:t}){t("SET_USER",null),t("SET_TOKEN",null)}},getters:{isAuthenticated:t=>!!t.token&&!!t.user,userRole:t=>t.user?.role}}},5631:function(t,e,a){"use strict";a.r(e);a(8111),a(116);var n=a(8362);e["default"]={namespaced:!0,state:{bills:[],currentBill:null,loading:!1,error:null,billTemplate:null},mutations:{SET_BILLS(t,e){t.bills=e},SET_CURRENT_BILL(t,e){t.currentBill=e},SET_LOADING(t,e){t.loading=e},SET_ERROR(t,e){t.error=e},SET_BILL_TEMPLATE(t,e){t.billTemplate=e}},actions:{async fetchBills({commit:t},e){t("SET_LOADING",!0);try{let a="/bills";e?.to&&(a+=`?to=${e.to}`);const{data:s}=await n.A.get(a);t("SET_BILLS",s),t("SET_ERROR",null)}catch(a){t("SET_ERROR",a.message)}finally{t("SET_LOADING",!1)}},async fetchUnpaidBills({commit:t},e){t("SET_LOADING",!0);try{const{data:a}=await n.A.get(`/bills?consumerId=${e}&status=unpaid`);return t("SET_ERROR",null),a}catch(a){throw t("SET_ERROR",a.message),a}finally{t("SET_LOADING",!1)}},async fetchBillById({commit:t},e){t("SET_LOADING",!0);try{const{data:a}=await n.A.get(`/bills/${e}`);return t("SET_CURRENT_BILL",a),t("SET_ERROR",null),a}catch(a){throw t("SET_ERROR",a.message),a}finally{t("SET_LOADING",!1)}},async fetchBillByAccountNo({commit:t},e){t("SET_LOADING",!0);try{const{data:a}=await n.A.get(`/bills/inquiry/${e}`);return t("SET_CURRENT_BILL",a),t("SET_ERROR",null),a}catch(a){throw t("SET_ERROR",a.response?.data?.message||a.message),a}finally{t("SET_LOADING",!1)}},async createBill({commit:t,dispatch:e},a){t("SET_LOADING",!0);try{const{data:t}=await n.A.post("/bills",a);return await e("fetchBills"),t}catch(s){throw t("SET_ERROR",s.message),s}finally{t("SET_LOADING",!1)}},async updateBill({commit:t,dispatch:e},{id:a,bill:s}){t("SET_LOADING",!0);try{const{data:t}=await n.A.put(`/bills/${a}`,s);return await e("fetchBills"),t}catch(r){throw t("SET_ERROR",r.message),r}finally{t("SET_LOADING",!1)}},async fetchBillTemplate({commit:t}){t("SET_LOADING",!0);try{const{data:e}=await n.A.get("/bills/template/html");return t("SET_BILL_TEMPLATE",e),t("SET_ERROR",null),e}catch(e){throw t("SET_ERROR",e.message),e}finally{t("SET_LOADING",!1)}}},getters:{getBillById:t=>e=>t.bills.find((t=>t._id===e)),sortedBills:t=>[...t.bills].sort(((t,e)=>new Date(e.createdAt)-new Date(t.createdAt))),isLoading:t=>t.loading,hasError:t=>null!==t.error}}},1518:function(t,e,a){"use strict";a.r(e);var n=a(8362);e["default"]={namespaced:!0,state:{consumers:[],currentConsumer:null,loading:!1,error:null},mutations:{SET_CONSUMERS(t,e){t.consumers=e},SET_CURRENT_CONSUMER(t,e){t.currentConsumer=e},SET_LOADING(t,e){t.loading=e},SET_ERROR(t,e){t.error=e}},actions:{async fetchConsumers({commit:t}){t("SET_LOADING",!0);try{const{data:e}=await n.A.get("/consumers");t("SET_CONSUMERS",e),t("SET_ERROR",null)}catch(e){t("SET_ERROR",e.message)}finally{t("SET_LOADING",!1)}},async fetchConsumerById({commit:t},e){t("SET_LOADING",!0);try{const{data:a}=await n.A.get(`/consumers/${e}`);return t("SET_CURRENT_CONSUMER",a),t("SET_ERROR",null),a}catch(a){throw t("SET_ERROR",a.message),a}finally{t("SET_LOADING",!1)}},async createConsumer({commit:t,dispatch:e},a){t("SET_LOADING",!0);try{await n.A.post("/consumers",a),await e("fetchConsumers")}catch(s){throw t("SET_ERROR",s.message),s}finally{t("SET_LOADING",!1)}},async updateConsumer({commit:t,dispatch:e},{id:a,consumer:s}){t("SET_LOADING",!0);try{await n.A.put(`/consumers/${a}`,s),await e("fetchConsumers")}catch(r){throw t("SET_ERROR",r.message),r}finally{t("SET_LOADING",!1)}},async archiveConsumer({commit:t,dispatch:e},{id:a,reason:s}){t("SET_LOADING",!0);try{await n.A.delete(`/consumers/${a}`,{data:{reason:s}}),await e("fetchConsumers")}catch(r){throw t("SET_ERROR",r.message),r}finally{t("SET_LOADING",!1)}}}}},9342:function(t,e,a){"use strict";a.r(e);var n=a(8362);e["default"]={namespaced:!0,state:{summary:{totalConsumers:0,activeConsumers:0,totalUnpaidBills:0,totalOverdueBills:0,currentMonthReadings:0,monthlyExpenses:0},collections:[],consumerStatus:[],expenseSummary:[],recentActivities:{recentBills:[],recentReadings:[]},loading:!1,error:null},mutations:{SET_SUMMARY(t,e){t.summary=e},SET_COLLECTIONS(t,e){t.collections=e},SET_CONSUMER_STATUS(t,e){t.consumerStatus=e},SET_EXPENSE_SUMMARY(t,e){t.expenseSummary=e},SET_RECENT_ACTIVITIES(t,e){t.recentActivities=e},SET_LOADING(t,e){t.loading=e},SET_ERROR(t,e){t.error=e}},actions:{async fetchDashboardSummary({commit:t}){t("SET_LOADING",!0);try{const{data:e}=await n.A.get("/dashboards/summary");t("SET_SUMMARY",e),t("SET_ERROR",null)}catch(e){t("SET_ERROR",e.message)}finally{t("SET_LOADING",!1)}},async fetchCollections({commit:t}){t("SET_LOADING",!0);try{const{data:e}=await n.A.get("/dashboards/collections");t("SET_COLLECTIONS",e),t("SET_ERROR",null)}catch(e){t("SET_ERROR",e.message)}finally{t("SET_LOADING",!1)}},async fetchConsumerStatus({commit:t}){t("SET_LOADING",!0);try{const{data:e}=await n.A.get("/dashboards/consumer-status");t("SET_CONSUMER_STATUS",e),t("SET_ERROR",null)}catch(e){t("SET_ERROR",e.message)}finally{t("SET_LOADING",!1)}},async fetchExpenseSummary({commit:t}){t("SET_LOADING",!0);try{const{data:e}=await n.A.get("/dashboards/expenses");t("SET_EXPENSE_SUMMARY",e),t("SET_ERROR",null)}catch(e){t("SET_ERROR",e.message)}finally{t("SET_LOADING",!1)}},async fetchRecentActivities({commit:t}){t("SET_LOADING",!0);try{const{data:e}=await n.A.get("/dashboards/recent-activities");t("SET_RECENT_ACTIVITIES",e),t("SET_ERROR",null)}catch(e){t("SET_ERROR",e.message)}finally{t("SET_LOADING",!1)}},async fetchAllDashboardData({dispatch:t}){try{await Promise.all([t("fetchDashboardSummary"),t("fetchCollections"),t("fetchConsumerStatus"),t("fetchExpenseSummary"),t("fetchRecentActivities")])}catch(e){console.error("Error fetching dashboard data:",e)}}},getters:{getSummary:t=>t.summary,getCollections:t=>t.collections,getConsumerStatus:t=>t.consumerStatus,getExpenseSummary:t=>t.expenseSummary,getRecentActivities:t=>t.recentActivities,isLoading:t=>t.loading,getError:t=>t.error}}},3862:function(t,e,a){"use strict";a.r(e);a(8111),a(2489),a(8237);var n=a(8362);e["default"]={namespaced:!0,state:{expenses:[],currentExpense:null,loading:!1,error:null},mutations:{SET_EXPENSES(t,e){t.expenses=e},SET_CURRENT_EXPENSE(t,e){t.currentExpense=e},SET_LOADING(t,e){t.loading=e},SET_ERROR(t,e){t.error=e}},actions:{async fetchExpenses({commit:t}){t("SET_LOADING",!0);try{const{data:e}=await n.A.get("/expenses");t("SET_EXPENSES",e),t("SET_ERROR",null)}catch(e){t("SET_ERROR",e.message)}finally{t("SET_LOADING",!1)}},async fetchExpenseById({commit:t},e){t("SET_LOADING",!0);try{const{data:a}=await n.A.get(`/expenses/${e}`);return t("SET_CURRENT_EXPENSE",a),t("SET_ERROR",null),a}catch(a){throw t("SET_ERROR",a.message),a}finally{t("SET_LOADING",!1)}},async createExpense({commit:t,dispatch:e},a){t("SET_LOADING",!0);try{const{data:t}=await n.A.post("/expenses",a);return await e("fetchExpenses"),t}catch(s){throw t("SET_ERROR",s.message),s}finally{t("SET_LOADING",!1)}},async updateExpense({commit:t,dispatch:e},{id:a,expense:s}){t("SET_LOADING",!0);try{const{data:t}=await n.A.put(`/expenses/${a}`,s);return await e("fetchExpenses"),t}catch(r){throw t("SET_ERROR",r.message),r}finally{t("SET_LOADING",!1)}},async deleteExpense({commit:t,dispatch:e},a){t("SET_LOADING",!0);try{await n.A.delete(`/api/expenses/${a}`),await e("fetchExpenses")}catch(s){throw t("SET_ERROR",s.message),s}finally{t("SET_LOADING",!1)}}},getters:{totalExpenses:t=>t.expenses.reduce(((t,e)=>t+e.amount),0),expensesByType:t=>e=>t.expenses.filter((t=>t.expenseType===e))}}},868:function(t,e,a){"use strict";a.r(e);a(8111),a(2489),a(8237);var n=a(8362);e["default"]={namespaced:!0,state:{payments:[],currentPayment:null,loading:!1,error:null},mutations:{SET_PAYMENTS(t,e){t.payments=e},SET_CURRENT_PAYMENT(t,e){t.currentPayment=e},SET_LOADING(t,e){t.loading=e},SET_ERROR(t,e){t.error=e}},actions:{async fetchPayments({commit:t}){t("SET_LOADING",!0);try{const{data:e}=await n.A.get("/payments");t("SET_PAYMENTS",e),t("SET_ERROR",null)}catch(e){throw t("SET_ERROR",e.message),e}finally{t("SET_LOADING",!1)}},async fetchPaymentById({commit:t},e){t("SET_LOADING",!0);try{const{data:a}=await n.A.get(`/payments/${e}`);return t("SET_CURRENT_PAYMENT",a),t("SET_ERROR",null),a}catch(a){throw t("SET_ERROR",a.message),a}finally{t("SET_LOADING",!1)}},async createPayment({commit:t,dispatch:e},a){t("SET_LOADING",!0);try{const{data:s}=await n.A.post("/payments",a);return await e("fetchPayments"),t("SET_ERROR",null),s}catch(s){throw t("SET_ERROR",s.message),s}finally{t("SET_LOADING",!1)}},async updatePayment({commit:t,dispatch:e},{id:a,payment:s}){t("SET_LOADING",!0);try{const{data:r}=await n.A.put(`/payments/${a}`,s);return await e("fetchPayments"),t("SET_ERROR",null),r}catch(r){throw t("SET_ERROR",r.message),r}finally{t("SET_LOADING",!1)}},clearCurrentPayment({commit:t}){t("SET_CURRENT_PAYMENT",null)},clearError({commit:t}){t("SET_ERROR",null)}},getters:{getPaymentsByType:t=>e=>t.payments.filter((t=>t.paymentType===e)),getPaymentsByConsumer:t=>e=>t.payments.filter((t=>t.consumerId===e)),getTotalPayments:t=>t.payments.reduce(((t,e)=>t+e.amount),0),getPendingPayments:t=>t.payments.filter((t=>"pending"===t.status)),getCompletedPayments:t=>t.payments.filter((t=>"completed"===t.status)),isProcessing:t=>t.loading,getCurrentPayment:t=>t.currentPayment}}},3686:function(t,e,a){"use strict";a.r(e);a(8111),a(2489),a(8237);var n=a(8362);e["default"]={namespaced:!0,state:{readings:[],currentReading:null,loading:!1,error:null},mutations:{SET_READINGS(t,e){t.readings=e},SET_CURRENT_READING(t,e){t.currentReading=e},SET_LOADING(t,e){t.loading=e},SET_ERROR(t,e){t.error=e},UPDATE_READING(t,e){const a=t.readings.findIndex((t=>t._id===e._id));-1!==a&&(t.readings[a]=e)}},actions:{async fetchReadings({commit:t}){t("SET_LOADING",!0);try{const{data:e}=await n.A.get("/meterreadings");t("SET_READINGS",e),t("SET_ERROR",null)}catch(e){throw t("SET_ERROR",e.message),e}finally{t("SET_LOADING",!1)}},async fetchReading({commit:t},e){t("SET_LOADING",!0);try{const{data:a}=await n.A.get(`/meterreadings/${e}`);return t("SET_CURRENT_READING",a),t("SET_ERROR",null),a}catch(a){throw t("SET_ERROR",a.message),a}finally{t("SET_LOADING",!1)}},async createReading({commit:t,dispatch:e},a){t("SET_LOADING",!0);try{const{data:s}=await n.A.post("/meterreadings",{...a,consumption:a.currentReading-a.previousReading});return await e("fetchReadings"),t("SET_ERROR",null),s}catch(s){throw t("SET_ERROR",s.message),s}finally{t("SET_LOADING",!1)}},async updateReading({commit:t,dispatch:e},{id:a,readingData:s}){t("SET_LOADING",!0);try{const{data:r}=await n.A.put(`/meterreadings/${a}`,{...s,consumption:s.currentReading-s.previousReading});return await e("fetchReadings"),t("SET_ERROR",null),r}catch(r){throw t("SET_ERROR",r.message),r}finally{t("SET_LOADING",!1)}},async filterReadings({commit:t},{startDate:e,endDate:a}){t("SET_LOADING",!0);try{const{data:s}=await n.A.get("/meterreadings",{params:{startDate:e,endDate:a}});t("SET_READINGS",s),t("SET_ERROR",null)}catch(s){throw t("SET_ERROR",s.message),s}finally{t("SET_LOADING",!1)}}},getters:{getReadingsByConsumer:t=>e=>t.readings.filter((t=>t.consumerId===e)),getLatestReading:t=>e=>t.readings.filter((t=>t.consumerId===e)).sort(((t,e)=>new Date(e.readingDate)-new Date(t.readingDate)))[0],getReadingsByStatus:t=>e=>t.readings.filter((t=>t.status===e)),getTotalConsumption:t=>t.readings.reduce(((t,e)=>t+e.consumption),0)}}},4295:function(t,e,a){"use strict";a.r(e);var n=a(8362);e["default"]={namespaced:!0,state:{users:[],currentUser:null,loading:!1,error:null},mutations:{SET_USERS(t,e){t.users=e},SET_CURRENT_USER(t,e){t.currentUser=e},SET_LOADING(t,e){t.loading=e},SET_ERROR(t,e){t.error=e}},actions:{async fetchCurrentUser({commit:t}){t("SET_LOADING",!0);try{const{data:e}=await n.A.get("/users/me");t("SET_CURRENT_USER",e),t("SET_ERROR",null)}catch(e){throw t("SET_ERROR",e.message),e}finally{t("SET_LOADING",!1)}},async updateCurrentUser({commit:t},e){t("SET_LOADING",!0);try{const{data:a}=await n.A.put("/users/me",e);t("SET_CURRENT_USER",a),t("SET_ERROR",null)}catch(a){throw t("SET_ERROR",a.message),a}finally{t("SET_LOADING",!1)}},async fetchUsers({commit:t}){t("SET_LOADING",!0);try{const{data:e}=await n.A.get("/users");t("SET_USERS",e),t("SET_ERROR",null)}catch(e){throw t("SET_ERROR",e.message),e}finally{t("SET_LOADING",!1)}},async fetchUserById({commit:t},e){t("SET_LOADING",!0);try{const{data:a}=await n.A.get(`/users/${e}`);return t("SET_CURRENT_USER",a),t("SET_ERROR",null),a}catch(a){throw t("SET_ERROR",a.message),a}finally{t("SET_LOADING",!1)}},async createUser({commit:t,dispatch:e},a){t("SET_LOADING",!0);try{await n.A.post("/users",a),await e("fetchUsers"),t("SET_ERROR",null)}catch(s){throw t("SET_ERROR",s.message),s}finally{t("SET_LOADING",!1)}},async updateUser({commit:t,dispatch:e},{id:a,userData:s}){t("SET_LOADING",!0);try{await n.A.put(`/users/${a}`,s),await e("fetchUsers"),t("SET_ERROR",null)}catch(r){throw t("SET_ERROR",r.message),r}finally{t("SET_LOADING",!1)}},async archiveUser({commit:t,dispatch:e},{id:a,reason:s}){t("SET_LOADING",!0);try{await n.A.delete(`/users/${a}`,{data:{reason:s}}),await e("fetchUsers"),t("SET_ERROR",null)}catch(r){throw t("SET_ERROR",r.message),r}finally{t("SET_LOADING",!1)}},async changePassword({commit:t},{currentPassword:e,newPassword:a}){t("SET_LOADING",!0);try{await n.A.post("/users/change-password",{currentPassword:e,newPassword:a}),t("SET_ERROR",null)}catch(s){throw t("SET_ERROR",s.message),s}finally{t("SET_LOADING",!1)}},async requestPasswordReset({commit:t},e){t("SET_LOADING",!0);try{await n.A.post("/users/reset-password-request",{email:e}),t("SET_ERROR",null)}catch(a){throw t("SET_ERROR",a.message),a}finally{t("SET_LOADING",!1)}},async resetPassword({commit:t},{token:e,newPassword:a}){t("SET_LOADING",!0);try{await n.A.post("/users/reset-password",{token:e,newPassword:a}),t("SET_ERROR",null)}catch(s){throw t("SET_ERROR",s.message),s}finally{t("SET_LOADING",!1)}}}}},8043:function(t,e,a){var n={"./auth.js":8985,"./billings.js":5631,"./consumers.js":1518,"./dashboards.js":9342,"./expenses.js":3862,"./payments.js":868,"./readings.js":3686,"./users.js":4295};function s(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=r,t.exports=s,s.id=8043},4785:function(t,e,a){"use strict";t.exports=a.p+"img/blogo.b8048436.png"}},e={};function a(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=t,function(){var t=[];a.O=function(e,n,s,r){if(!n){var i=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],r=t[u][2];for(var o=!0,c=0;c<n.length;c++)(!1&r||i>=r)&&Object.keys(a.O).every((function(t){return a.O[t](n[c])}))?n.splice(c--,1):(o=!1,r<i&&(i=r));if(o){t.splice(u--,1);var l=s();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[n,s,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};a.t=function(n,s){if(1&s&&(n=this(n)),8&s)return n;if("object"===typeof n&&n){if(4&s&&n.__esModule)return n;if(16&s&&"function"===typeof n.then)return n}var r=Object.create(null);a.r(r);var i={};t=t||[null,e({}),e([]),e(e)];for(var o=2&s&&n;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((function(t){i[t]=function(){return n[t]}}));return i["default"]=function(){return n},a.d(r,i),r}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,n){return a.f[n](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+"."+{7:"ae593aaf",49:"5d645c97",64:"3ae04674",78:"71ab39ea",93:"70e64cd5",112:"f957053e",214:"544fe55e",392:"3e140b86",408:"08047c69",416:"aeeae2d6",437:"5b166aae",444:"f8b88958",478:"1ba4f88a",480:"181164ed",622:"f0c6f716",648:"ae55f7eb",684:"8cdb76d2",759:"5cfdbdc7",767:"4058b69a",826:"df59c2d4",838:"c1c31473",928:"f57970c8"}[t]+".js"}}(),function(){a.miniCssF=function(t){return"css/"+t+"."+{7:"85a76abd",112:"8cbaca70",214:"e657a79a",408:"93d34eb2",416:"076b0e1d",437:"1277c7d5",444:"245a6ebf",622:"8651e288",648:"4c83fb04",684:"56bd1799",759:"26a406fd",767:"d879df71",826:"6fa44f6d",928:"2c939da6"}[t]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="client:";a.l=function(n,s,r,i){if(t[n])t[n].push(s);else{var o,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==e+r){o=d;break}}o||(c=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",e+r),o.src=n),t[n]=[s];var m=function(e,a){o.onerror=o.onload=null,clearTimeout(E);var s=t[n];if(delete t[n],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((function(t){return t(a)})),e)return e(a)},E=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),c&&document.head.appendChild(o)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,n,s,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",a.nc&&(i.nonce=a.nc);var o=function(a){if(i.onerror=i.onload=null,"load"===a.type)s();else{var n=a&&a.type,o=a&&a.target&&a.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+n+": "+o+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=o,i.parentNode&&i.parentNode.removeChild(i),r(c)}};return i.onerror=i.onload=o,i.href=e,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i),i},e=function(t,e){for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var s=a[n],r=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===t||r===e))return s}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){s=i[n],r=s.getAttribute("data-href");if(r===t||r===e)return s}},n=function(n){return new Promise((function(s,r){var i=a.miniCssF(n),o=a.p+i;if(e(i,o))return s();t(n,o,null,s,r)}))},s={524:0};a.f.miniCss=function(t,e){var a={7:1,112:1,214:1,408:1,416:1,437:1,444:1,622:1,648:1,684:1,759:1,767:1,826:1,928:1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=n(t).then((function(){s[t]=0}),(function(e){throw delete s[t],e})))}}}(),function(){var t={524:0};a.f.j=function(e,n){var s=a.o(t,e)?t[e]:void 0;if(0!==s)if(s)n.push(s[2]);else{var r=new Promise((function(a,n){s=t[e]=[a,n]}));n.push(s[2]=r);var i=a.p+a.u(e),o=new Error,c=function(n){if(a.o(t,e)&&(s=t[e],0!==s&&(t[e]=void 0),s)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",o.name="ChunkLoadError",o.type=r,o.request=i,s[1](o)}};a.l(i,c,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,r,i=n[0],o=n[1],c=n[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(c)var u=c(a)}for(e&&e(n);l<i.length;l++)r=i[l],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(u)},n=self["webpackChunkclient"]=self["webpackChunkclient"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(9081)}));n=a.O(n)})();
//# sourceMappingURL=app.28333b11.js.map